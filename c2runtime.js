// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var aa,ba,da,z,ea,ga,ja,J,la,ma,oa,qa,ra,M,sa,ta,O,ua,va,wa,xa,P,ya,za,Aa,Ba,Ea,R,Fa,Ga,Ha,Ia,Ja,Ka,La,Ma,Na,Oa,Pa,Ra,Sa,S,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,T,Qb,Rb,U,Sb,Tb={},Ub={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(h){return h.__proto__}:function(h){return h.constructor.prototype});
(function(){function h(a,b,d,t){this.set(a,b,d,t)}function m(){this.Rb=this.Qb=this.Tb=this.Sb=this.nc=this.mc=this.kc=this.jc=0}function p(a,b,d,t){a<b?d<t?(w=a<d?a:d,n=b>t?b:t):(w=a<t?a:t,n=b>d?b:d):d<t?(w=b<d?b:d,n=a>t?a:t):(w=b<t?b:t,n=a>d?a:d)}function q(){this.items=this.gc=null;this.rf=0;ka&&(this.gc=new Set);this.Ge=[];this.Uc=!0}function v(a){ca[B++]=a}function r(){this.aa=this.bh=this.y=this.uh=0}function g(a){this.we=[];this.Pj=this.Rj=this.Sj=this.Qj=0;this.Lf(a)}function b(a,b){this.Ah=
a;this.zh=b;this.cells={}}function e(a,b){this.Ah=a;this.zh=b;this.cells={}}function c(a,b,d){var t;return Y.length?(t=Y.pop(),t.ci=a,t.x=b,t.y=d,t):new aa(a,b,d)}function a(a,b,d){this.ci=a;this.x=b;this.y=d;this.oa=new ba}function d(a,b,d){var t;return fa.length?(t=fa.pop(),t.ci=a,t.x=b,t.y=d,t):new da(a,b,d)}function l(a,b,d){this.ci=a;this.x=b;this.y=d;this.oa=[];this.me=!0;this.ac=new ba;this.Le=!1}function f(a,b){return a.Ob-b.Ob}z=function(a){window.console&&window.console.log&&window.console.log(a)};
ea=function(a){window.console&&window.console.error&&window.console.error(a)};ga=function(a){return"undefined"===typeof a};ja=function(a){return"number"===typeof a};J=function(a){return"string"===typeof a};la=function(a){return 0<a&&0===(a-1&a)};ma=function(a){--a;for(var b=1;32>b;b<<=1)a=a|a>>b;return a+1};oa=function(a){return 0>a?-a:a};qa=function(a,b){return a<b?a:b};ra=Math.PI;M=function(a){return 0<=a?a|0:(a|0)-1};sa=function(a){var b=a|0;return b===a?b:b+1};ta=function(a,b,d,t,k,f,e,l){var c,
n,u,g;a<d?(n=a,c=d):(n=d,c=a);k<e?(g=k,u=e):(g=e,u=k);if(c<g||n>u)return!1;b<t?(n=b,c=t):(n=t,c=b);f<l?(g=f,u=l):(g=l,u=f);if(c<g||n>u)return!1;c=k-a+e-d;n=f-b+l-t;a=d-a;b=t-b;k=e-k;f=l-f;l=oa(b*k-f*a);return oa(k*n-f*c)>l?!1:oa(a*n-b*c)<=l};h.prototype.set=function(a,b,d,t){this.left=a;this.top=b;this.right=d;this.bottom=t};h.prototype.Se=function(a){this.left=a.left;this.top=a.top;this.right=a.right;this.bottom=a.bottom};h.prototype.width=function(){return this.right-this.left};h.prototype.height=
function(){return this.bottom-this.top};h.prototype.offset=function(a,b){this.left+=a;this.top+=b;this.right+=a;this.bottom+=b;return this};h.prototype.normalize=function(){var a=0;this.left>this.right&&(a=this.left,this.left=this.right,this.right=a);this.top>this.bottom&&(a=this.top,this.top=this.bottom,this.bottom=a)};h.prototype.gb=function(a,b){return a>=this.left&&a<=this.right&&b>=this.top&&b<=this.bottom};h.prototype.We=function(a){return this.left===a.left&&this.top===a.top&&this.right===
a.right&&this.bottom===a.bottom};O=h;m.prototype.Wg=function(a){this.jc=a.left;this.kc=a.top;this.mc=a.right;this.nc=a.top;this.Sb=a.right;this.Tb=a.bottom;this.Qb=a.left;this.Rb=a.bottom};m.prototype.$l=function(a,b){if(0===b)this.Wg(a);else{var d=Math.sin(b),t=Math.cos(b),k=a.left*d,f=a.top*d,e=a.right*d,d=a.bottom*d,l=a.left*t,c=a.top*t,n=a.right*t,t=a.bottom*t;this.jc=l-f;this.kc=c+k;this.mc=n-f;this.nc=c+e;this.Sb=n-d;this.Tb=t+e;this.Qb=l-d;this.Rb=t+k}};m.prototype.offset=function(a,b){this.jc+=
a;this.kc+=b;this.mc+=a;this.nc+=b;this.Sb+=a;this.Tb+=b;this.Qb+=a;this.Rb+=b;return this};var w=0,n=0;m.prototype.Uj=function(a){p(this.jc,this.mc,this.Sb,this.Qb);a.left=w;a.right=n;p(this.kc,this.nc,this.Tb,this.Rb);a.top=w;a.bottom=n};m.prototype.gb=function(a,b){var d=this.jc,t=this.kc,k=this.mc-d,f=this.nc-t,e=this.Sb-d,l=this.Tb-t,c=a-d,n=b-t,u=k*k+f*f,g=k*e+f*l,f=k*c+f*n,w=e*e+l*l,h=e*c+l*n,A=1/(u*w-g*g),k=(w*f-g*h)*A,u=(u*h-g*f)*A;if(0<=k&&0<u&&1>k+u)return!0;k=this.Qb-d;f=this.Rb-t;u=k*
k+f*f;g=k*e+f*l;f=k*c+f*n;A=1/(u*w-g*g);k=(w*f-g*h)*A;u=(u*h-g*f)*A;return 0<=k&&0<u&&1>k+u};ua=m;va=function(a,b){for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);return a};wa=function(a,b){var d,t;b=M(b);if(!(0>b||b>=a.length)){d=b;for(t=a.length-1;d<t;d++)a[d]=a[d+1];xa(a,t)}};xa=function(a,b){a.length=b};P=function(a){xa(a,0)};ya=function(a,b){P(a);var d,t;d=0;for(t=b.length;d<t;++d)a[d]=b[d]};za=function(a,b){a.push.apply(a,b)};Aa=function(a,b){var d,t;d=0;for(t=a.length;d<t;++d)if(a[d]===b)return d;
return-1};Ba=function(a,b){var d=Aa(a,b);-1!==d&&wa(a,d)};Ea=function(a,b,d){return a<b?b:a>d?d:a};R=function(a){return a/(180/ra)};Fa=function(a){return 180/ra*a};Ga=function(a){a%=360;0>a&&(a+=360);return a};Ha=function(a){a%=2*ra;0>a&&(a+=2*ra);return a};Ia=function(a){return Ga(Fa(a))};Ja=function(a){return Ha(R(a))};Ka=function(a,b,d,t){return Math.atan2(t-b,d-a)};La=function(a,b){if(a===b)return 0;var d=Math.sin(a),t=Math.cos(a),k=Math.sin(b),f=Math.cos(b),d=d*k+t*f;return 1<=d?0:-1>=d?ra:Math.acos(d)};
Ma=function(a,b,d){var t=Math.sin(a),k=Math.cos(a),f=Math.sin(b),e=Math.cos(b);return Math.acos(t*f+k*e)>d?0<k*f-t*e?Ha(a+d):Ha(a-d):Ha(b)};Na=function(a,b){var d=Math.sin(a),t=Math.cos(a),k=Math.sin(b),f=Math.cos(b);return 0>=t*k-d*f};Oa=function(a,b,d,t){a=d-a;b=t-b;return Math.sqrt(a*a+b*b)};Pa=function(a,b){return!a!==!b};Ra=function(a){for(var b in a)if(a.hasOwnProperty(b))return!0;return!1};Sa=function(a){for(var b in a)a.hasOwnProperty(b)&&delete a[b]};var A=+new Date;S=function(){if("undefined"!==
typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==typeof a.mozNow)return a.mozNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()-A};var k=!1,u=k=!1,y=!1;"undefined"!==typeof window&&(k=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),k=!k&&/safari/i.test(navigator.userAgent),u=/(iphone|ipod|ipad)/i.test(navigator.userAgent),y=window.c2ejecta);
var ka=!k&&!y&&!u&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;q.prototype.contains=function(a){return this.xc()?!1:ka?this.gc.has(a):this.items&&this.items.hasOwnProperty(a)};q.prototype.add=function(a){if(ka)this.gc.has(a)||(this.gc.add(a),this.Uc=!1);else{var b=a.toString(),d=this.items;d?d.hasOwnProperty(b)||(d[b]=a,this.rf++,this.Uc=!1):(this.items={},this.items[b]=a,this.rf=1,this.Uc=!1)}};q.prototype.remove=function(a){if(!this.xc())if(ka)this.gc.has(a)&&(this.gc["delete"](a),
this.Uc=!1);else if(this.items){a=a.toString();var b=this.items;b.hasOwnProperty(a)&&(delete b[a],this.rf--,this.Uc=!1)}};q.prototype.clear=function(){this.xc()||(ka?this.gc.clear():(this.items=null,this.rf=0),P(this.Ge),this.Uc=!0)};q.prototype.xc=function(){return 0===this.count()};q.prototype.count=function(){return ka?this.gc.size:this.rf};var ca=null,B=0;q.prototype.xq=function(){if(!this.Uc){if(ka)P(this.Ge),ca=this.Ge,B=0,this.gc.forEach(v),ca=null,B=0;else{var a=this.Ge;P(a);var b,d=0,t=this.items;
if(t)for(b in t)t.hasOwnProperty(b)&&(a[d++]=t[b])}this.Uc=!0}};q.prototype.nd=function(){this.xq();return this.Ge};ba=q;new ba;Ta=function(a,b){ka?Ua(a,b.gc):Va(a,b.nd())};Ua=function(a,b){var d,t,k,f;t=d=0;for(k=a.length;d<k;++d)f=a[d],b.has(f)||(a[t++]=f);xa(a,t)};Va=function(a,b){var d,t,k,f;t=d=0;for(k=a.length;d<k;++d)f=a[d],-1===Aa(b,f)&&(a[t++]=f);xa(a,t)};r.prototype.add=function(a){this.y=a-this.uh;this.bh=this.aa+this.y;this.uh=this.bh-this.aa-this.y;this.aa=this.bh};r.prototype.reset=
function(){this.aa=this.bh=this.y=this.uh=0};Wa=r;Xa=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};g.prototype.Lf=function(a){this.Kl=a;this.Qg=a.length/2;this.we.length=a.length;this.vh=this.wh=-1;this.Xj=0};g.prototype.vp=function(){return!this.Kl.length};g.prototype.za=function(){for(var a=this.we,b=a[0],d=b,t=a[1],k=t,f,e,l=1,c=this.Qg;l<c;++l)e=2*l,f=a[e],e=a[e+1],f<b&&(b=f),f>d&&(d=f),e<t&&(t=e),e>k&&(k=e);this.Qj=b;this.Rj=d;this.Sj=t;this.Pj=k};g.prototype.Wg=function(a,
b,d){this.we.length=8;this.Qg=4;var t=this.we;t[0]=a.left-b;t[1]=a.top-d;t[2]=a.right-b;t[3]=a.top-d;t[4]=a.right-b;t[5]=a.bottom-d;t[6]=a.left-b;t[7]=a.bottom-d;this.wh=a.right-a.left;this.vh=a.bottom-a.top;this.za()};g.prototype.jn=function(a,b,d){if(this.wh!==a||this.vh!==b||this.Xj!==d){this.wh=a;this.vh=b;this.Xj=d;var t,k,f,e,l,c=0,n=1,u=this.Kl,g=this.we;0!==d&&(c=Math.sin(d),n=Math.cos(d));d=0;for(f=this.Qg;d<f;d++)t=2*d,k=t+1,e=u[t]*a,l=u[k]*b,g[t]=e*n-l*c,g[k]=l*n+e*c;this.za()}};g.prototype.gb=
function(a,b){var d=this.we;if(a===d[0]&&b===d[1])return!0;var t,k,f,e=this.Qg,l=this.Qj-110,c=this.Sj-101,n=this.Rj+131,u=this.Pj+120,g,w,h=0,A=0;for(t=0;t<e;t++)k=2*t,f=(t+1)%e*2,g=d[k],k=d[k+1],w=d[f],f=d[f+1],ta(l,c,a,b,g,k,w,f)&&h++,ta(n,u,a,b,g,k,w,f)&&A++;return 1===h%2||1===A%2};Ya=g;b.prototype.$c=function(a,b,d){var t;t=this.cells[a];return t?(t=t[b])?t:d?(t=c(this,a,b),this.cells[a][b]=t):null:d?(t=c(this,a,b),this.cells[a]={},this.cells[a][b]=t):null};b.prototype.Ja=function(a){return M(a/
this.Ah)};b.prototype.Ka=function(a){return M(a/this.zh)};b.prototype.update=function(a,b,d){var t,k,f,e,l;if(b)for(t=b.left,k=b.right;t<=k;++t)for(f=b.top,e=b.bottom;f<=e;++f)if(!d||!d.gb(t,f))if(l=this.$c(t,f,!1))l.remove(a),l.xc()&&(l.oa.clear(),1E3>Y.length&&Y.push(l),this.cells[t][f]=null);if(d)for(t=d.left,k=d.right;t<=k;++t)for(f=d.top,e=d.bottom;f<=e;++f)b&&b.gb(t,f)||this.$c(t,f,!0).ji(a)};b.prototype.Ml=function(a,b){var d,t,f,k,e,l;d=this.Ja(a.left);f=this.Ka(a.top);t=this.Ja(a.right);
for(e=this.Ka(a.bottom);d<=t;++d)for(k=f;k<=e;++k)(l=this.$c(d,k,!1))&&l.dump(b)};Za=b;e.prototype.$c=function(a,b,f){var t;t=this.cells[a];return t?(t=t[b])?t:f?(t=d(this,a,b),this.cells[a][b]=t):null:f?(t=d(this,a,b),this.cells[a]={},this.cells[a][b]=t):null};e.prototype.Ja=function(a){return M(a/this.Ah)};e.prototype.Ka=function(a){return M(a/this.zh)};e.prototype.update=function(a,b,d){var t,f,k,e,l;if(b)for(t=b.left,f=b.right;t<=f;++t)for(k=b.top,e=b.bottom;k<=e;++k)if(!d||!d.gb(t,k))if(l=this.$c(t,
k,!1))l.remove(a),l.xc()&&(l.reset(),1E3>fa.length&&fa.push(l),this.cells[t][k]=null);if(d)for(t=d.left,f=d.right;t<=f;++t)for(k=d.top,e=d.bottom;k<=e;++k)b&&b.gb(t,k)||this.$c(t,k,!0).ji(a)};e.prototype.Ml=function(a,b,d,t,k){var f,e;a=this.Ja(a);b=this.Ka(b);d=this.Ja(d);for(f=this.Ka(t);a<=d;++a)for(t=b;t<=f;++t)(e=this.$c(a,t,!1))&&e.dump(k)};e.prototype.Bp=function(a){var b,d,t,k,f;b=a.left;t=a.top;d=a.right;for(k=a.bottom;b<=d;++b)for(a=t;a<=k;++a)if(f=this.$c(b,a,!1))f.me=!1};$a=e;var Y=[];
a.prototype.xc=function(){return this.oa.xc()};a.prototype.ji=function(a){this.oa.add(a)};a.prototype.remove=function(a){this.oa.remove(a)};a.prototype.dump=function(a){za(a,this.oa.nd())};aa=a;var fa=[];l.prototype.xc=function(){if(!this.oa.length)return!0;if(this.oa.length>this.ac.count())return!1;this.Qh();return!0};l.prototype.ji=function(a){this.ac.contains(a)?(this.ac.remove(a),this.ac.xc()&&(this.Le=!1)):this.oa.length?(this.oa[this.oa.length-1].Zb()>a.Zb()&&(this.me=!1),this.oa.push(a)):(this.oa.push(a),
this.me=!0)};l.prototype.remove=function(a){this.ac.add(a);this.Le=!0;30<=this.ac.count()&&this.Qh()};l.prototype.Qh=function(){this.Le&&(this.ac.count()===this.oa.length?this.reset():(Ta(this.oa,this.ac),this.ac.clear(),this.Le=!1))};l.prototype.Un=function(){this.me||(this.oa.sort(f),this.me=!0)};l.prototype.reset=function(){P(this.oa);this.me=!0;this.ac.clear();this.Le=!1};l.prototype.dump=function(a){this.Qh();this.Un();this.oa.length&&a.push(this.oa)};da=l;var E="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");
ab=function(a){return 0>=a||11<=a?"source-over":E[a-1]};bb=function(a,b,d){if(d)switch(a.Ga=d.ONE,a.Ea=d.ONE_MINUS_SRC_ALPHA,b){case 1:a.Ga=d.ONE;a.Ea=d.ONE;break;case 3:a.Ga=d.ONE;a.Ea=d.ZERO;break;case 4:a.Ga=d.ONE_MINUS_DST_ALPHA;a.Ea=d.ONE;break;case 5:a.Ga=d.DST_ALPHA;a.Ea=d.ZERO;break;case 6:a.Ga=d.ZERO;a.Ea=d.SRC_ALPHA;break;case 7:a.Ga=d.ONE_MINUS_DST_ALPHA;a.Ea=d.ZERO;break;case 8:a.Ga=d.ZERO;a.Ea=d.ONE_MINUS_SRC_ALPHA;break;case 9:a.Ga=d.DST_ALPHA;a.Ea=d.ONE_MINUS_SRC_ALPHA;break;case 10:a.Ga=
d.ONE_MINUS_DST_ALPHA,a.Ea=d.SRC_ALPHA}};cb=function(a){return Math.round(1E6*a)/1E6};db=function(a,b){return"string"!==typeof a||"string"!==typeof b||a.length!==b.length?!1:a===b?!0:a.toLowerCase()===b.toLowerCase()};eb=function(a){a=a.target;return!a||a===document||a===window||document&&document.body&&a===document.body||db(a.tagName,"canvas")?!0:!1}})();var Vb="undefined"!==typeof Float32Array?Float32Array:Array;function Wb(h){var m=new Vb(3);h&&(m[0]=h[0],m[1]=h[1],m[2]=h[2]);return m}
function W(h){var m=new Vb(16);h&&(m[0]=h[0],m[1]=h[1],m[2]=h[2],m[3]=h[3],m[4]=h[4],m[5]=h[5],m[6]=h[6],m[7]=h[7],m[8]=h[8],m[9]=h[9],m[10]=h[10],m[11]=h[11],m[12]=h[12],m[13]=h[13],m[14]=h[14],m[15]=h[15]);return m}function Xb(h,m){m[0]=h[0];m[1]=h[1];m[2]=h[2];m[3]=h[3];m[4]=h[4];m[5]=h[5];m[6]=h[6];m[7]=h[7];m[8]=h[8];m[9]=h[9];m[10]=h[10];m[11]=h[11];m[12]=h[12];m[13]=h[13];m[14]=h[14];m[15]=h[15]}
function Yb(h,m){var p=m[0],q=m[1];m=m[2];h[0]*=p;h[1]*=p;h[2]*=p;h[3]*=p;h[4]*=q;h[5]*=q;h[6]*=q;h[7]*=q;h[8]*=m;h[9]*=m;h[10]*=m;h[11]*=m}
function Zb(h,m,p,q){q||(q=W());var v,r,g,b,e,c,a,d,l=h[0],f=h[1];h=h[2];r=p[0];g=p[1];v=p[2];p=m[1];c=m[2];l===m[0]&&f===p&&h===c?(h=q,h[0]=1,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=1,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=1,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1):(p=l-m[0],c=f-m[1],a=h-m[2],d=1/Math.sqrt(p*p+c*c+a*a),p*=d,c*=d,a*=d,m=g*a-v*c,v=v*p-r*a,r=r*c-g*p,(d=Math.sqrt(m*m+v*v+r*r))?(d=1/d,m*=d,v*=d,r*=d):r=v=m=0,g=c*r-a*v,b=a*m-p*r,e=p*v-c*m,(d=Math.sqrt(g*g+b*b+e*e))?(d=1/d,g*=d,b*=d,e*=d):e=b=g=0,
q[0]=m,q[1]=g,q[2]=p,q[3]=0,q[4]=v,q[5]=b,q[6]=c,q[7]=0,q[8]=r,q[9]=e,q[10]=a,q[11]=0,q[12]=-(m*l+v*f+r*h),q[13]=-(g*l+b*f+e*h),q[14]=-(p*l+c*f+a*h),q[15]=1)}
(function(){function h(b,e,c){this.Hd=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.M=!!c;this.sg=this.kf=!1;this.Hh=0;this.nh=1;this.tj=1E3;this.Eq=(this.tj-this.nh)/32768;this.xh=Wb([0,0,100]);this.Uk=Wb([0,0,0]);this.um=Wb([0,1,0]);this.Xf=Wb([1,1,1]);this.gk=!0;this.Hg=W();this.cb=W();this.xi=W();this.Gh=W();this.g=b;this.version=0===this.g.getParameter(this.g.VERSION).indexOf("WebGL 2")?2:1;this.Ak()}function m(b,e,c){this.g=b;this.Mf=e;
this.name=c;this.qb=b.getAttribLocation(e,"aPos");this.hd=b.getAttribLocation(e,"aTex");this.Sk=b.getUniformLocation(e,"matP");this.Dg=b.getUniformLocation(e,"matMV");this.re=b.getUniformLocation(e,"opacity");this.Bi=b.getUniformLocation(e,"colorFill");this.Tk=b.getUniformLocation(e,"samplerFront");this.wf=b.getUniformLocation(e,"samplerBack");this.Od=b.getUniformLocation(e,"destStart");this.Nd=b.getUniformLocation(e,"destEnd");this.yf=b.getUniformLocation(e,"seconds");this.Di=b.getUniformLocation(e,
"pixelWidth");this.Ci=b.getUniformLocation(e,"pixelHeight");this.vf=b.getUniformLocation(e,"layerScale");this.uf=b.getUniformLocation(e,"layerAngle");this.zf=b.getUniformLocation(e,"viewOrigin");this.xf=b.getUniformLocation(e,"scrollPos");this.hp=!!(this.Di||this.Ci||this.yf||this.wf||this.Od||this.Nd||this.vf||this.uf||this.zf||this.xf);this.bl=this.cl=-999;this.Gg=1;this.Yk=this.Xk=0;this.$k=this.Wk=this.Vk=1;this.fl=this.el=this.dl=this.hl=this.gl=this.Zk=0;this.wi=[];this.al=W();this.re&&b.uniform1f(this.re,
1);this.Bi&&b.uniform4f(this.Bi,1,1,1,1);this.Tk&&b.uniform1i(this.Tk,0);this.wf&&b.uniform1i(this.wf,1);this.Od&&b.uniform2f(this.Od,0,0);this.Nd&&b.uniform2f(this.Nd,1,1);this.vf&&b.uniform1f(this.vf,1);this.uf&&b.uniform1f(this.uf,0);this.zf&&b.uniform2f(this.zf,0,0);this.xf&&b.uniform2f(this.xf,0,0);this.yf&&b.uniform1f(this.yf,0);this.Dd=!1}function p(b,e){return b[0]===e[0]&&b[1]===e[1]&&b[2]===e[2]&&b[3]===e[3]&&b[4]===e[4]&&b[5]===e[5]&&b[6]===e[6]&&b[7]===e[7]&&b[8]===e[8]&&b[9]===e[9]&&
b[10]===e[10]&&b[11]===e[11]&&b[12]===e[12]&&b[13]===e[13]&&b[14]===e[14]&&b[15]===e[15]}function q(b,e){this.type=b;this.k=e;this.g=e.g;this.$b=this.Ia=this.Al=0;this.B=this.wb=null;this.am=[]}var v=W();h.prototype.Ak=function(){var b=this.g,e;this.Mk=1;this.Kd=this.Jd=null;this.eg=1;b.clearColor(0,0,0,0);b.clear(b.COLOR_BUFFER_BIT);b.enable(b.BLEND);b.blendFunc(b.ONE,b.ONE_MINUS_SRC_ALPHA);b.disable(b.CULL_FACE);b.disable(b.STENCIL_TEST);b.disable(b.DITHER);this.M?(b.enable(b.DEPTH_TEST),b.depthFunc(b.LEQUAL)):
b.disable(b.DEPTH_TEST);this.Nk=b.ONE;this.Lk=b.ONE_MINUS_SRC_ALPHA;this.lh=new Float32Array(8E3*(this.M?3:2));this.eh=new Float32Array(16E3);this.Fl=new Float32Array(32E3);this.Oi=b.createBuffer();b.bindBuffer(b.ARRAY_BUFFER,this.Oi);b.bufferData(b.ARRAY_BUFFER,this.Fl.byteLength,b.DYNAMIC_DRAW);this.Wf=Array(4);this.Qf=Array(4);for(e=0;4>e;e++)this.Wf[e]=b.createBuffer(),b.bindBuffer(b.ARRAY_BUFFER,this.Wf[e]),b.bufferData(b.ARRAY_BUFFER,this.lh.byteLength,b.DYNAMIC_DRAW),this.Qf[e]=b.createBuffer(),
b.bindBuffer(b.ARRAY_BUFFER,this.Qf[e]),b.bufferData(b.ARRAY_BUFFER,this.eh.byteLength,b.DYNAMIC_DRAW);this.qc=0;this.kp=b.createBuffer();b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,this.kp);for(var c=new Uint16Array(12E3),a=e=0;12E3>e;)c[e++]=a,c[e++]=a+1,c[e++]=a+2,c[e++]=a,c[e++]=a+2,c[e++]=a+3,a+=4;b.bufferData(b.ELEMENT_ARRAY_BUFFER,c,b.STATIC_DRAW);this.Pi=this.Ce=this.Kc=0;this.Z=[];e=this.M?"attribute highp vec3 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, aPos.z, 1.0);\n\tvTex = aTex;\n}":
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}";c=this.Te({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},e,"<default>");this.Z.push(c);c=this.Te({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},
"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.Z.push(c);c=this.Te({src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tif (texture2D(samplerFront, vTex).a < 1.0)\n\t\tdiscard;\n}"},e,"<earlyz>");this.Z.push(c);c=this.Te({src:"uniform lowp vec4 colorFill;\nvoid main(void) {\n\tgl_FragColor = colorFill;\n}"},
e,"<fill>");this.Z.push(c);for(var d in $b)$b.hasOwnProperty(d)&&this.Z.push(this.Te($b[d],e,d));b.activeTexture(b.TEXTURE0);b.bindTexture(b.TEXTURE_2D,null);this.Tc=[];this.pc=0;this.Fa=!1;this.ck=this.sf=-1;this.de=null;this.Ph=b.createFramebuffer();this.gg=this.Rg=null;this.Nj=!1;this.M&&(this.gg=b.createRenderbuffer());this.md=Wb([0,0,0]);this.il=b.getParameter(b.ALIASED_POINT_SIZE_RANGE)[1];2048<this.il&&(this.il=2048);this.Oa(0)};m.prototype.qj=function(b){p(this.al,b)||(Xb(b,this.al),this.g.uniformMatrix4fv(this.Dg,
!1,b))};h.prototype.Te=function(b,e,c){var a=this.g,d=a.createShader(a.FRAGMENT_SHADER);a.shaderSource(d,b.src);a.compileShader(d);if(!a.getShaderParameter(d,a.COMPILE_STATUS))return a.deleteShader(d),null;var l=a.createShader(a.VERTEX_SHADER);a.shaderSource(l,e);a.compileShader(l);if(!a.getShaderParameter(l,a.COMPILE_STATUS))return a.deleteShader(d),a.deleteShader(l),null;e=a.createProgram();a.attachShader(e,d);a.attachShader(e,l);a.linkProgram(e);if(!a.getProgramParameter(e,a.LINK_STATUS))return a.deleteShader(d),
a.deleteShader(l),a.deleteProgram(e),null;a.useProgram(e);a.deleteShader(d);a.deleteShader(l);c=new m(a,e,c);c.Nh=b.Nh||0;c.Oh=b.Oh||0;c.bk=!!b.bk;c.Ib=!!b.Ib;c.Jj=!!b.Jj;c.C=b.C||[];b=0;for(d=c.C.length;b<d;b++)c.C[b][1]=a.getUniformLocation(e,c.C[b][0]),c.wi.push(0),a.uniform1f(c.C[b][1],0);return c};h.prototype.ai=function(b){var e,c;e=0;for(c=this.Z.length;e<c;e++)if(this.Z[e].name===b)return e;return-1};h.prototype.Jl=function(b,e,c){var a=this.cb,d=this.Hg,l=[0,0,0,0,0,0,0,0];l[0]=a[0]*b+a[4]*
e+a[12];l[1]=a[1]*b+a[5]*e+a[13];l[2]=a[2]*b+a[6]*e+a[14];l[3]=a[3]*b+a[7]*e+a[15];l[4]=d[0]*l[0]+d[4]*l[1]+d[8]*l[2]+d[12]*l[3];l[5]=d[1]*l[0]+d[5]*l[1]+d[9]*l[2]+d[13]*l[3];l[6]=d[2]*l[0]+d[6]*l[1]+d[10]*l[2]+d[14]*l[3];l[7]=-l[2];0!==l[7]&&(l[7]=1/l[7],l[4]*=l[7],l[5]*=l[7],l[6]*=l[7],c[0]=(.5*l[4]+.5)*this.width,c[1]=(.5*l[5]+.5)*this.height)};h.prototype.Td=function(b,e,c){if(this.width!==b||this.height!==e||c){this.zd();c=this.g;this.width=b;this.height=e;c.viewport(0,0,b,e);Zb(this.xh,this.Uk,
this.um,this.cb);if(this.M){var a=-b/2;b=b/2;var d=e/2;e=-e/2;var l=this.nh,f=this.tj,g=this.Hg;g||(g=W());var n=b-a,h=e-d,k=f-l;g[0]=2/n;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=2/h;g[6]=0;g[7]=0;g[8]=0;g[9]=0;g[10]=-2/k;g[11]=0;g[12]=-(a+b)/n;g[13]=-(e+d)/h;g[14]=-(f+l)/k;g[15]=1;this.Xf[0]=1;this.Xf[1]=1}else e=b/e,a=this.nh,b=this.tj,g=this.Hg,f=a*Math.tan(45*Math.PI/360),e*=f,d=-e,l=-f,g||(g=W()),n=e-d,h=f-l,k=b-a,g[0]=2*a/n,g[1]=0,g[2]=0,g[3]=0,g[4]=0,g[5]=2*a/h,g[6]=0,g[7]=0,g[8]=(e+d)/n,g[9]=(f+l)/
h,g[10]=-(b+a)/k,g[11]=-1,g[12]=0,g[13]=0,g[14]=-(b*a*2)/k,g[15]=0,a=[0,0],b=[0,0],this.Jl(0,0,a),this.Jl(1,1,b),this.Xf[0]=1/(b[0]-a[0]),this.Xf[1]=-1/(b[1]-a[1]);a=0;for(b=this.Z.length;a<b;a++)d=this.Z[a],d.Dd=!1,d.Sk&&(c.useProgram(d.Mf),c.uniformMatrix4fv(d.Sk,!1,this.Hg));c.useProgram(this.Z[this.sf].Mf);c.bindTexture(c.TEXTURE_2D,null);c.activeTexture(c.TEXTURE1);c.bindTexture(c.TEXTURE_2D,null);c.activeTexture(c.TEXTURE0);this.Kd=this.Jd=null;this.gg&&(c.bindFramebuffer(c.FRAMEBUFFER,this.Ph),
c.bindRenderbuffer(c.RENDERBUFFER,this.gg),c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_COMPONENT16,this.width,this.height),this.Nj||(c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,this.gg),this.Nj=!0),c.bindRenderbuffer(c.RENDERBUFFER,null),c.bindFramebuffer(c.FRAMEBUFFER,null),this.Rg=null)}};h.prototype.fc=function(){Zb(this.xh,this.Uk,this.um,this.cb);Yb(this.cb,this.Xf)};h.prototype.translate=function(b,e){if(0!==b||0!==e){this.md[0]=b;this.md[1]=e;this.md[2]=0;var c=
this.cb,a=this.md,d=a[0],l=a[1],a=a[2];c[12]=c[0]*d+c[4]*l+c[8]*a+c[12];c[13]=c[1]*d+c[5]*l+c[9]*a+c[13];c[14]=c[2]*d+c[6]*l+c[10]*a+c[14];c[15]=c[3]*d+c[7]*l+c[11]*a+c[15]}};h.prototype.scale=function(b,e){if(1!==b||1!==e)this.md[0]=b,this.md[1]=e,this.md[2]=1,Yb(this.cb,this.md)};h.prototype.$i=function(b){if(0!==b){var e=this.cb,c,a=Math.sin(b);b=Math.cos(b);var d=e[0],l=e[1],f=e[2],g=e[3],n=e[4],h=e[5],k=e[6],u=e[7];c?e!==c&&(c[8]=e[8],c[9]=e[9],c[10]=e[10],c[11]=e[11],c[12]=e[12],c[13]=e[13],
c[14]=e[14],c[15]=e[15]):c=e;c[0]=d*b+n*a;c[1]=l*b+h*a;c[2]=f*b+k*a;c[3]=g*b+u*a;c[4]=d*-a+n*b;c[5]=l*-a+h*b;c[6]=f*-a+k*b;c[7]=g*-a+u*b}};h.prototype.Nb=function(){if(!p(this.xi,this.cb)){var b=this.Va();b.type=5;b.B?Xb(this.cb,b.B):b.B=W(this.cb);Xb(this.cb,this.xi);this.Fa=!1}};h.prototype.Ug=function(b){this.M&&(32760<b&&(b=32760),this.Hh=this.xh[2]-this.nh-b*this.Eq)};q.prototype.En=function(){var b=this.g,e=this.k;0!==this.Ia?(b.depthMask(!0),b.colorMask(!1,!1,!1,!1),b.disable(b.BLEND),b.bindFramebuffer(b.FRAMEBUFFER,
e.Ph),b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,null,0),b.clear(b.DEPTH_BUFFER_BIT),b.bindFramebuffer(b.FRAMEBUFFER,null),e.sg=!0):(b.depthMask(!1),b.colorMask(!0,!0,!0,!0),b.enable(b.BLEND),e.sg=!1)};q.prototype.In=function(){this.g.bindTexture(this.g.TEXTURE_2D,this.wb)};q.prototype.Jn=function(){var b=this.g;b.activeTexture(b.TEXTURE1);b.bindTexture(b.TEXTURE_2D,this.wb);b.activeTexture(b.TEXTURE0)};q.prototype.Fn=function(){var b=this.Al,e=this.k;e.eg=b;e=e.de;e.re&&
e.Gg!==b&&(e.Gg=b,this.g.uniform1f(e.re,b))};q.prototype.zn=function(){this.g.drawElements(this.g.TRIANGLES,this.$b,this.g.UNSIGNED_SHORT,this.Ia)};q.prototype.Bn=function(){this.g.blendFunc(this.Ia,this.$b)};q.prototype.Kn=function(){var b,e,c,a=this.k.Z,d=this.k.ck;b=0;for(e=a.length;b<e;b++)c=a[b],b===d&&c.Dg?(c.qj(this.B),c.Dd=!0):c.Dd=!1;Xb(this.B,this.k.Gh)};q.prototype.An=function(){var b=this.g,e=this.k;this.wb?(e.Kd===this.wb&&(b.activeTexture(b.TEXTURE1),b.bindTexture(b.TEXTURE_2D,null),
e.Kd=null,b.activeTexture(b.TEXTURE0)),b.bindFramebuffer(b.FRAMEBUFFER,e.Ph),e.sg||b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,this.wb,0)):(e.M||b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,null,0),b.bindFramebuffer(b.FRAMEBUFFER,null))};q.prototype.wn=function(){var b=this.g,e=this.Ia;0===e?(b.clearColor(this.B[0],this.B[1],this.B[2],this.B[3]),b.clear(b.COLOR_BUFFER_BIT)):1===e?(b.enable(b.SCISSOR_TEST),b.scissor(this.B[0],this.B[1],this.B[2],this.B[3]),
b.clearColor(0,0,0,0),b.clear(b.COLOR_BUFFER_BIT),b.disable(b.SCISSOR_TEST)):b.clear(b.DEPTH_BUFFER_BIT)};q.prototype.Dn=function(){var b=this.g;0!==this.Ia?b.enable(b.DEPTH_TEST):b.disable(b.DEPTH_TEST)};q.prototype.yn=function(){var b=this.g,e=this.k;e.M&&b.disable(b.DEPTH_TEST);var c=e.Z[1];b.useProgram(c.Mf);!c.Dd&&c.Dg&&(c.qj(e.Gh),c.Dd=!0);b.enableVertexAttribArray(c.qb);b.bindBuffer(b.ARRAY_BUFFER,e.Oi);b.vertexAttribPointer(c.qb,4,b.FLOAT,!1,0,0);b.drawArrays(b.POINTS,this.Ia/4,this.$b);c=
e.de;b.useProgram(c.Mf);0<=c.qb&&(b.enableVertexAttribArray(c.qb),b.bindBuffer(b.ARRAY_BUFFER,e.Wf[e.qc]),b.vertexAttribPointer(c.qb,e.M?3:2,b.FLOAT,!1,0,0));0<=c.hd&&(b.enableVertexAttribArray(c.hd),b.bindBuffer(b.ARRAY_BUFFER,e.Qf[e.qc]),b.vertexAttribPointer(c.hd,2,b.FLOAT,!1,0,0));e.M&&b.enable(b.DEPTH_TEST)};q.prototype.Gn=function(){var b=this.g,e=this.k,c=e.Z[this.Ia];e.ck=this.Ia;e.de=c;b.useProgram(c.Mf);!c.Dd&&c.Dg&&(c.qj(e.Gh),c.Dd=!0);c.re&&c.Gg!==e.eg&&(c.Gg=e.eg,b.uniform1f(c.re,e.eg));
0<=c.qb&&(b.enableVertexAttribArray(c.qb),b.bindBuffer(b.ARRAY_BUFFER,e.Wf[e.qc]),b.vertexAttribPointer(c.qb,e.M?3:2,b.FLOAT,!1,0,0));0<=c.hd&&(b.enableVertexAttribArray(c.hd),b.bindBuffer(b.ARRAY_BUFFER,e.Qf[e.qc]),b.vertexAttribPointer(c.hd,2,b.FLOAT,!1,0,0))};q.prototype.Cn=function(){var b=this.B;this.g.uniform4f(this.k.de.Bi,b[0],b[1],b[2],b[3])};q.prototype.Hn=function(){var b,e,c=this.k.de,a=this.g;b=this.B;c.wf&&this.k.Kd!==this.wb&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,
this.wb),this.k.Kd=this.wb,a.activeTexture(a.TEXTURE0));var d=b[0];c.Di&&d!==c.cl&&(c.cl=d,a.uniform1f(c.Di,d));d=b[1];c.Ci&&d!==c.bl&&(c.bl=d,a.uniform1f(c.Ci,d));d=b[2];e=b[3];!c.Od||d===c.Xk&&e===c.Yk||(c.Xk=d,c.Yk=e,a.uniform2f(c.Od,d,e));d=b[4];e=b[5];!c.Nd||d===c.Vk&&e===c.Wk||(c.Vk=d,c.Wk=e,a.uniform2f(c.Nd,d,e));d=b[6];c.vf&&d!==c.$k&&(c.$k=d,a.uniform1f(c.vf,d));d=b[7];c.uf&&d!==c.Zk&&(c.Zk=d,a.uniform1f(c.uf,d));d=b[8];e=b[9];!c.zf||d===c.gl&&e===c.hl||(c.gl=d,c.hl=e,a.uniform2f(c.zf,d,
e));d=b[10];e=b[11];!c.xf||d===c.dl&&e===c.el||(c.dl=d,c.el=e,a.uniform2f(c.xf,d,e));d=b[12];c.yf&&d!==c.fl&&(c.fl=d,a.uniform1f(c.yf,d));if(c.C.length)for(b=0,e=c.C.length;b<e;b++)d=this.am[b],d!==c.wi[b]&&(c.wi[b]=d,a.uniform1f(c.C[b][1],d))};h.prototype.Va=function(){this.pc===this.Tc.length&&this.Tc.push(new q(0,this));return this.Tc[this.pc++]};h.prototype.zd=function(){if(0!==this.pc&&!this.g.isContextLost()){var b=this.g;0<this.Pi&&(b.bindBuffer(b.ARRAY_BUFFER,this.Oi),b.bufferSubData(b.ARRAY_BUFFER,
0,this.Fl.subarray(0,this.Pi)),e&&0<=e.qb&&"<point>"===e.name&&b.vertexAttribPointer(e.qb,4,b.FLOAT,!1,0,0));if(0<this.Kc){var e=this.de;b.bindBuffer(b.ARRAY_BUFFER,this.Wf[this.qc]);b.bufferSubData(b.ARRAY_BUFFER,0,this.lh.subarray(0,this.Kc));e&&0<=e.qb&&"<point>"!==e.name&&b.vertexAttribPointer(e.qb,this.M?3:2,b.FLOAT,!1,0,0);b.bindBuffer(b.ARRAY_BUFFER,this.Qf[this.qc]);b.bufferSubData(b.ARRAY_BUFFER,0,this.eh.subarray(0,this.Ce));e&&0<=e.hd&&"<point>"!==e.name&&b.vertexAttribPointer(e.hd,2,b.FLOAT,
!1,0,0)}for(var c,b=0,e=this.pc;b<e;b++)switch(c=this.Tc[b],c.type){case 1:c.zn();break;case 2:c.In();break;case 3:c.Fn();break;case 4:c.Bn();break;case 5:c.Kn();break;case 6:c.An();break;case 7:c.wn();break;case 8:c.yn();break;case 9:c.Gn();break;case 10:c.Hn();break;case 11:c.Jn();break;case 12:c.Cn();break;case 13:c.Dn();break;case 14:c.En()}this.Pi=this.Ce=this.Kc=this.pc=0;this.sg=this.Fa=!1;this.qc++;4<=this.qc&&(this.qc=0)}};h.prototype.Jf=function(b){if(b!==this.Mk&&!this.kf){var e=this.Va();
e.type=3;this.Mk=e.Al=b;this.Fa=!1}};h.prototype.tb=function(b){if(b!==this.Jd){var e=this.Va();e.type=2;this.Jd=e.wb=b;this.Fa=!1}};h.prototype.kd=function(b,e){if((b!==this.Nk||e!==this.Lk)&&!this.kf){var c=this.Va();c.type=4;c.Ia=b;c.$b=e;this.Nk=b;this.Lk=e;this.Fa=!1}};h.prototype.Ul=function(){this.kd(this.g.ONE,this.g.ONE_MINUS_SRC_ALPHA)};h.prototype.If=function(b,e,c,a,d,l,f,g){15992<=this.Kc&&this.zd();var n=this.Kc,h=this.Ce,k=this.lh,u=this.eh,y=this.Hh;if(this.Fa)this.Tc[this.pc-1].$b+=
6;else{var m=this.Va();m.type=1;m.Ia=this.M?n:n/2*3;m.$b=6;this.Fa=!0}this.M?(k[n++]=b,k[n++]=e,k[n++]=y,k[n++]=c,k[n++]=a,k[n++]=y,k[n++]=d,k[n++]=l,k[n++]=y,k[n++]=f,k[n++]=g,k[n++]=y):(k[n++]=b,k[n++]=e,k[n++]=c,k[n++]=a,k[n++]=d,k[n++]=l,k[n++]=f,k[n++]=g);u[h++]=0;u[h++]=0;u[h++]=1;u[h++]=0;u[h++]=1;u[h++]=1;u[h++]=0;u[h++]=1;this.Kc=n;this.Ce=h};h.prototype.Sd=function(b,e,c,a,d,l,f,g,n){15992<=this.Kc&&this.zd();var h=this.Kc,k=this.Ce,u=this.lh,y=this.eh,m=this.Hh;if(this.Fa)this.Tc[this.pc-
1].$b+=6;else{var p=this.Va();p.type=1;p.Ia=this.M?h:h/2*3;p.$b=6;this.Fa=!0}var p=n.left,B=n.top,q=n.right;n=n.bottom;this.M?(u[h++]=b,u[h++]=e,u[h++]=m,u[h++]=c,u[h++]=a,u[h++]=m,u[h++]=d,u[h++]=l,u[h++]=m,u[h++]=f,u[h++]=g,u[h++]=m):(u[h++]=b,u[h++]=e,u[h++]=c,u[h++]=a,u[h++]=d,u[h++]=l,u[h++]=f,u[h++]=g);y[k++]=p;y[k++]=B;y[k++]=q;y[k++]=B;y[k++]=q;y[k++]=n;y[k++]=p;y[k++]=n;this.Kc=h;this.Ce=k};h.prototype.Oa=function(b){if(this.sf!==b){if(!this.Z[b]){if(0===this.sf)return;b=0}var e=this.Va();
e.type=9;this.sf=e.Ia=b;this.Fa=!1}};h.prototype.Gf=function(b){b=this.Z[b];return!(!b.Od&&!b.Nd)};h.prototype.Ri=function(b){b=this.Z[b];return!!(b.Od||b.Nd||b.bk)};h.prototype.Qi=function(b){return this.Z[b].Ib};h.prototype.Wp=function(b){b=this.Z[b];return 0!==b.Nh||0!==b.Oh};h.prototype.Oo=function(b){return this.Z[b].Nh};h.prototype.Po=function(b){return this.Z[b].Oh};h.prototype.Qo=function(b,e){return this.Z[b].C[e][2]};h.prototype.Pg=function(b){return this.Z[b].Jj};h.prototype.ze=function(b,
e,c,a,d,l,f,g,n,h,k,u,y,m,p){var B=this.Z[this.sf],q,r;if(B.hp||p.length){q=this.Va();q.type=10;q.B?Xb(this.cb,q.B):q.B=W();r=q.B;r[0]=e;r[1]=c;r[2]=a;r[3]=d;r[4]=l;r[5]=f;r[6]=g;r[7]=n;r[8]=h;r[9]=k;r[10]=u;r[11]=y;r[12]=m;B.wf?q.wb=b:q.wb=null;if(p.length)for(c=q.am,c.length=p.length,b=0,e=p.length;b<e;b++)c[b]=p[b];this.Fa=!1}};h.prototype.clear=function(b,e,c,a){var d=this.Va();d.type=7;d.Ia=0;d.B||(d.B=W());d.B[0]=b;d.B[1]=e;d.B[2]=c;d.B[3]=a;this.Fa=!1};h.prototype.clearRect=function(b,e,c,
a){if(!(0>c||0>a)){var d=this.Va();d.type=7;d.Ia=1;d.B||(d.B=W());d.B[0]=b;d.B[1]=e;d.B[2]=c;d.B[3]=a;this.Fa=!1}};h.prototype.Xl=function(b){if(this.M&&(b=!!b,this.kf!==b)){var e=this.Va();e.type=14;e.Ia=b?1:0;this.Fa=!1;this.kf=b;this.Rg=null;this.kf?this.Oa(2):this.Oa(0)}};h.prototype.Wl=function(b){if(this.M){var e=this.Va();e.type=13;e.Ia=b?1:0;this.Fa=!1}};h.prototype.nk=function(){Xb(this.xi,v);this.fc();this.Nb();var b=this.width/2,e=this.height/2;this.If(-b,e,b,e,b,-e,-b,-e);Xb(v,this.cb);
this.Nb()};h.prototype.Vl=function(b,e,c){this.Oa(3);var a=this.Va();a.type=12;a.B||(a.B=W());a.B[0]=b;a.B[1]=e;a.B[2]=c;a.B[3]=1;this.Fa=!1};h.prototype.jq=function(){this.Oa(0)};h.prototype.Zp=function(){this.Oa(2)};h.prototype.Vp=function(){this.zd();this.g.flush()};var r=[],g={};h.prototype.mn=function(){P(r);g={}};h.prototype.Rk=function(b,e,c){var a;a=!1;e=!!e;var d=b.src+","+a+","+e+(a?",undefined":""),l=null;if("undefined"!==typeof b.src&&g.hasOwnProperty(d))return l=g[d],l.$f++,l;this.zd();
var f=this.g,h=la(b.width)&&la(b.height),l=f.createTexture();f.bindTexture(f.TEXTURE_2D,l);f.pixelStorei(f.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var n=f.RGBA,m=f.RGBA,k=f.UNSIGNED_BYTE;if(c&&!this.Hd)switch(c){case 1:m=n=f.RGB;break;case 2:k=f.UNSIGNED_SHORT_4_4_4_4;break;case 3:k=f.UNSIGNED_SHORT_5_5_5_1;break;case 4:m=n=f.RGB,k=f.UNSIGNED_SHORT_5_6_5}if(1===this.version&&!h&&a){c=document.createElement("canvas");c.width=ma(b.width);c.height=ma(b.height);var u=c.getContext("2d");"undefined"!==typeof u.imageSmoothingEnabled?
u.imageSmoothingEnabled=e:(u.webkitImageSmoothingEnabled=e,u.mozImageSmoothingEnabled=e,u.msImageSmoothingEnabled=e);u.drawImage(b,0,0,b.width,b.height,0,0,c.width,c.height);f.texImage2D(f.TEXTURE_2D,0,n,m,k,c)}else f.texImage2D(f.TEXTURE_2D,0,n,m,k,b);a?(f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.REPEAT),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.REPEAT)):(f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE));e?(f.texParameteri(f.TEXTURE_2D,
f.TEXTURE_MAG_FILTER,f.LINEAR),(h||2<=this.version)&&this.gk?(f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.LINEAR_MIPMAP_LINEAR),f.generateMipmap(f.TEXTURE_2D)):f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.LINEAR)):(f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,f.NEAREST),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.NEAREST));f.bindTexture(f.TEXTURE_2D,null);this.Jd=null;l.td=b.width;l.sd=b.height;l.$f=1;l.Wj=d;r.push(l);return g[d]=l};h.prototype.hb=function(b,e,c){var a;
this.zd();var d=this.g;this.Hd&&(a=!1);var l=d.createTexture();d.bindTexture(d.TEXTURE_2D,l);d.texImage2D(d.TEXTURE_2D,0,d.RGBA,b,e,0,d.RGBA,a?d.UNSIGNED_SHORT_4_4_4_4:d.UNSIGNED_BYTE,null);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,c?d.LINEAR:d.NEAREST);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,c?d.LINEAR:d.NEAREST);d.bindTexture(d.TEXTURE_2D,null);this.Jd=
null;l.td=b;l.sd=e;r.push(l);return l};h.prototype.deleteTexture=function(b){b&&("undefined"!==typeof b.$f&&1<b.$f?b.$f--:(this.zd(),b===this.Jd&&(this.g.bindTexture(this.g.TEXTURE_2D,null),this.Jd=null),b===this.Kd&&(this.g.activeTexture(this.g.TEXTURE1),this.g.bindTexture(this.g.TEXTURE_2D,null),this.g.activeTexture(this.g.TEXTURE0),this.Kd=null),Ba(r,b),"undefined"!==typeof b.Wj&&delete g[b.Wj],this.g.deleteTexture(b)))};h.prototype.sb=function(b){if(b!==this.Rg){var e=this.Va();e.type=6;this.Rg=
e.wb=b;this.Fa=!1}};fb=h})();
(function(){function h(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var b=this;this.mb=(this.ni=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.bd=!!a.dc;this.op="undefined"!==typeof window.AppMobi||
this.bd;this.lb=!!window.c2cocoonjs;this.Fb=!!window.c2ejecta;this.lb&&(CocoonJS.App.onSuspended.addEventListener(function(){b.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){b.setSuspended(!1)}));this.Fb&&(document.addEventListener("pagehide",function(){b.setSuspended(!0)}),document.addEventListener("pageshow",function(){b.setSuspended(!1)}),document.addEventListener("resize",function(){b.setSize(window.innerWidth,window.innerHeight)}));this.va=this.bd||this.lb||this.Fb;this.tg=
/edge\//i.test(navigator.userAgent);this.Hd=(/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent))&&!this.tg;this.Gk=/tizen/i.test(navigator.userAgent);this.Ek=/android/i.test(navigator.userAgent)&&!this.Gk&&!this.Hd&&!this.tg;this.Kk=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&!this.Hd&&!this.tg;this.wp=/ipad/i.test(navigator.userAgent);this.wg=this.Kk||this.wp||this.Fb;this.mi=(/chrome/i.test(navigator.userAgent)||
/chromium/i.test(navigator.userAgent))&&!this.Hd&&!this.tg;this.np=/amazonwebappplatform/i.test(navigator.userAgent);this.qp=/firefox/i.test(navigator.userAgent);this.Id="undefined"!==typeof window.c2nodewebkit||"undefined"!==typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||/nwjs/i.test(navigator.userAgent);this.Ik=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.up=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.of=!("undefined"===
typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.ti=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.Hk=!!window.cr_windows10;this.sp=this.Ik||this.up||this.ti||this.Hk;this.pp=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.Fk=this.Ek&&!this.mi&&!this.ni&&!this.qp&&!this.np&&!this.va;this.devicePixelRatio=1;this.je=this.mb||this.ni||this.op||this.lb||this.Ek||this.wg||this.of||this.ti||this.pp||this.Gk||this.Fb;this.je||
(this.je=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));this.si=!!(this.wg&&this.mb&&window.webkit);this.fi=null;this.ip="";this.si&&(this.fi=cordova&&cordova.plugins&&cordova.plugins.CorHttpd?cordova.plugins.CorHttpd:null);"undefined"===typeof cr_is_preview||this.Id||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)&&!/nwjs/i.test(navigator.userAgent)||(this.Id=!0);this.canvas=a;this.Yj=document.getElementById("c2canvasdiv");
this.k=this.g=null;this.bi="(unavailable)";this.M=!1;this.yd=0;this.V=null;this.Sh="";this.lg=!1;this.rl=this.sl=0;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.bd&&(window.c2runtime=this);this.Id&&(window.ondragover=function(a){a.preventDefault();return!1},window.ondrop=function(a){a.preventDefault();return!1},window.nwgui&&window.nwgui.App.clearCache&&window.nwgui.App.clearCache());
this.Fk&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=a.width;this.height=a.height;this.q=this.width;this.p=this.height;this.bg=this.width;this.Ve=this.height;this.pe=window.innerWidth;this.oe=window.innerHeight;this.J=!0;this.nf=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.e=[];this.U=[];this.Ai={};this.Gb=[];this.Mh={};this.uc=[];this.Ie=[];this.ih=[];this.an=[];this.bn=[];this.vd={};this.pi=this.ad=!1;
this.yc=0;this.oi=this.ri=!1;this.Vb=[];this.lf=!1;this.Ag=this.ej="";this.ia=null;this.zc="";this.Pf=this.em=!1;this.kg=[];this.xd=this.fe=0;this.ll=30;this.Fh=this.Af=0;this.Sf=1;this.ob=new Wa;this.mh=new Wa;this.Jg=this.ng=this.ig=this.Rf=this.Md=this.Rh=this.xg=0;this.Pe=null;this.ek=[];this.Lh=[];this.hg=-1;this.Ei=[[]];this.mj=this.Eg=0;this.Ti(null);this.Ze=this.ol=this.Cf=0;this.ah=[];this.jj=this.Ui=-1;this.qf=!0;this.Cg=0;this.mf=!1;this.nq=0;this.Oe=null;this.cd=this.wk=!1;this.ql=new ba;
this.Ii=new ba;this.Ji=new ba;this.Ol=[];new Ya([]);new Ya([]);this.ae=[];this.rg={};this.Vc={};this.Rc={};this.He={};this.Tj={};this.Qk=this.zg=this.da=this.ha=this.Pk=this.yg=this.I=null;this.Fe=this.vi=!1;this.Th=[null,null];this.Cd=0;this.Cc={};this.Nf=this.fd=null;this.fm="";this.Ig=[];this.Yp()}}function m(a,b){return 128>=b?a[3]:256>=b?a[2]:512>=b?a[1]:a[0]}function p(){try{return!!window.indexedDB}catch(a){return!1}}function q(a){a.target.result.createObjectStore("saves",{keyPath:"slot"})}
function v(a,b,d,k){try{var f=indexedDB.open("_C2SaveStates");f.onupgradeneeded=q;f.onerror=k;f.onsuccess=function(f){f=f.target.result;f.onerror=k;f.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,data:b}).onsuccess=d}}catch(e){k(e)}}function r(a,b,d){try{var f=indexedDB.open("_C2SaveStates");f.onupgradeneeded=q;f.onerror=d;f.onsuccess=function(f){f=f.target.result;f.onerror=d;var k=f.transaction(["saves"]).objectStore("saves").get(a);k.onsuccess=function(){k.result?b(k.result.data):
b(null)}}}catch(k){d(k)}}function g(){z("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location=window.location+"?continuous"}function b(a){var b,d={};for(b in a)!a.hasOwnProperty(b)||a[b]instanceof ba||a[b]&&"undefined"!==typeof a[b].Rr||"spriteCreatedDestroyCallback"!==b&&(d[b]=a[b]);return d}var e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||
window.msRequestAnimationFrame||window.oRequestAnimationFrame;h.prototype.Yp=function(){var a=this;if(this.si){var b=function(){a.Bo(function(b){a.tf(JSON.parse(b))},function(){alert("Error fetching data.js")})};this.fi?this.fi.startServer({port:0,localhost_only:!0},function(d){a.ip=d;b()},function(a){console.log("Error starting local server: "+a+". Video playback will not work.");b()}):(console.log("Local server unavailable. Video playback will not work."),b())}else{var d;this.of?d=new ActiveXObject("Microsoft.XMLHTTP"):
d=new XMLHttpRequest;var f="data.js";if(this.Ik||this.of||this.ti||this.Hk)f="data.json";d.open("GET",f,!0);var k=!1;if(!this.va&&"response"in d&&"responseType"in d)try{d.responseType="json",k="json"===d.responseType}catch(e){k=!1}if(!k&&"responseType"in d)try{d.responseType="text"}catch(l){}if("overrideMimeType"in d)try{d.overrideMimeType("application/json; charset=utf-8")}catch(c){}this.of?d.onreadystatechange=function(){4===d.readyState&&a.tf(JSON.parse(d.responseText))}:(d.onload=function(){if(k)a.tf(d.response);
else if(a.Fb){var b=d.responseText,b=b.substr(b.indexOf("{"));a.tf(JSON.parse(b))}else a.tf(JSON.parse(d.responseText))},d.onerror=function(a){ea("Error requesting "+f+":");ea(a)});d.send()}};h.prototype.lp=function(){var a=this,b,d,f,k,e,l,c,n,g;this.ke=(!this.va||this.Fb||this.mb)&&this.zq&&!this.Fk;0===this.La&&this.wg&&(this.ke=!1);this.devicePixelRatio=this.ke?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.Aa();0<this.La&&
this.setSize(window.innerWidth,window.innerHeight,!0);this.canvas.addEventListener("webglcontextlost",function(b){b.preventDefault();a.Gp();z("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){a.k.Ak();a.k.Td(a.k.width,a.k.height,!0);a.ha=null;a.da=null;a.Th[0]=null;a.Th[1]=null;a.Hp();a.J=!0;z("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);try{this.Sn&&(this.lb||this.Fb||!this.va)&&(b={alpha:!0,
depth:!1,antialias:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!0},this.g=this.canvas.getContext("webgl2",b)||this.canvas.getContext("webgl",b)||this.canvas.getContext("experimental-webgl",b))}catch(u){}if(this.g){if(b=this.g.getExtension("WEBGL_debug_renderer_info"))this.bi=this.g.getParameter(b.UNMASKED_RENDERER_WEBGL)+" ["+this.g.getParameter(b.UNMASKED_VENDOR_WEBGL)+"]";this.M&&(this.bi+=" [front-to-back enabled]");this.va||(this.wa=document.createElement("canvas"),jQuery(this.wa).appendTo(this.canvas.parentNode),
this.wa.oncontextmenu=function(){return!1},this.wa.onselectstart=function(){return!1},this.wa.width=Math.round(this.bg*this.devicePixelRatio),this.wa.height=Math.round(this.Ve*this.devicePixelRatio),jQuery(this.wa).css({width:this.bg+"px",height:this.Ve+"px"}),this.Hl(),this.Ni=this.wa.getContext("2d"));this.k=new fb(this.g,this.je,this.M);this.k.Td(this.canvas.width,this.canvas.height);this.k.gk=0!==this.Ln;this.V=null;b=0;for(d=this.e.length;b<d;b++)for(e=this.e[b],f=0,k=e.r.length;f<k;f++)c=e.r[f],
c.fa=this.k.ai(c.id),c.Ib=this.k.Qi(c.fa),this.Fe=this.Fe||this.k.Gf(c.fa);b=0;for(d=this.Gb.length;b<d;b++){n=this.Gb[b];f=0;for(k=n.r.length;f<k;f++)c=n.r[f],c.fa=this.k.ai(c.id),c.Ib=this.k.Qi(c.fa);n.Mb();f=0;for(k=n.u.length;f<k;f++){g=n.u[f];e=0;for(l=g.r.length;e<l;e++)c=g.r[e],c.fa=this.k.ai(c.id),c.Ib=this.k.Qi(c.fa),this.Fe=this.Fe||this.k.Gf(c.fa);g.Mb()}}}else{if(0<this.La&&this.bd){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};
this.V=AppMobi.canvas.getContext("2d");try{this.V.samplingMode=this.ea?"smooth":"sharp",this.V.globalScale=1,this.V.HTML5CompatibilityMode=!0,this.V.imageSmoothingEnabled=this.ea}catch(h){}0!==this.width&&0!==this.height&&(this.V.width=this.width,this.V.height=this.height)}this.V||(this.lb?(b={antialias:!!this.ea,alpha:!0},this.V=this.canvas.getContext("2d",b)):(b={alpha:!0},this.V=this.canvas.getContext("2d",b)),this.Tg(this.V,this.ea));this.Ni=this.wa=null}this.lm=function(b){a.De(!1,b)};window==
window.top||this.va||this.sp||this.of||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.lb&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(z("Reloading for continuous preview"),this.Ag="__c2_continuouspreview",this.Pf=!0),this.Op&&!this.je&&(jQuery(window).focus(function(){a.setSuspended(!1)}),jQuery(window).blur(function(){var b=
window.parent;b&&b.document.hasFocus()||a.setSuspended(!0)})));window.addEventListener("blur",function(){});this.va||(b=function(a){if(eb(a)&&document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(b){}},"undefined"!==typeof PointerEvent?document.addEventListener("pointerdown",b):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",b):document.addEventListener("touchstart",
b),document.addEventListener("mousedown",b));0===this.La&&this.ke&&1<this.devicePixelRatio&&this.setSize(this.ka,this.ja,!0);this.pm();this.ep();this.go();this.S={}};h.prototype.setSize=function(a,b,d){var f=0,k=0,e=0,l=0,l=0;if(this.pe!==a||this.oe!==b||d){this.pe=a;this.oe=b;var c=this.La,n=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.mf)&&!this.mb;if(n||0!==this.La||d)n&&0<this.Cd&&(c=this.Cd),d=this.devicePixelRatio,4<=c?(e=this.ka/
this.ja,a/b>e?(e*=b,5===c?(l=e*d/this.ka,1<l?l=Math.floor(l):1>l&&(l=1/Math.ceil(1/l)),e=this.ka*l/d,l=this.ja*l/d,f=(a-e)/2,k=(b-l)/2,a=e,b=l):(f=(a-e)/2,a=e)):(l=a/e,5===c?(l=l*d/this.ja,1<l?l=Math.floor(l):1>l&&(l=1/Math.ceil(1/l)),e=this.ka*l/d,l=this.ja*l/d,f=(a-e)/2,k=(b-l)/2,a=e):k=(b-l)/2,b=l),n&&!this.Id&&(k=f=0)):this.Id&&this.mf&&0===this.ok&&(f=Math.floor((a-this.ka)/2),k=Math.floor((b-this.ja)/2),a=this.ka,b=this.ja),2>c&&(this.Ne=d),this.bg=Math.round(a),this.Ve=Math.round(b),this.width=
Math.round(a*d),this.height=Math.round(b*d),this.J=!0,this.zm?(this.q=this.width,this.p=this.height,this.ab=!0):this.width<this.ka&&this.height<this.ja||1===c?(this.q=this.width,this.p=this.height,this.ab=!0):(this.q=this.ka,this.p=this.ja,this.ab=!1,2===c?(e=this.ka/this.ja,c=this.pe/this.oe,c<e?this.q=this.p*c:c>e&&(this.p=this.q/c)):3===c&&(e=this.ka/this.ja,c=this.pe/this.oe,c>e?this.q=this.p*c:c<e&&(this.p=this.q/c))),this.Yj&&!this.va&&(jQuery(this.Yj).css({width:Math.round(a)+"px",height:Math.round(b)+
"px","margin-left":Math.floor(f)+"px","margin-top":Math.floor(k)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(a)+"px",height:Math.round(b)+"px"})),this.canvas&&(this.canvas.width=Math.round(a*d),this.canvas.height=Math.round(b*d),this.Fb?(this.canvas.style.left=Math.floor(f)+"px",this.canvas.style.top=Math.floor(k)+"px",this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(b)+"px"):this.ke&&!this.va&&(this.canvas.style.width=Math.round(a)+
"px",this.canvas.style.height=Math.round(b)+"px")),this.wa&&(this.wa.width=Math.round(a*d),this.wa.height=Math.round(b*d),this.wa.style.width=this.bg+"px",this.wa.style.height=this.Ve+"px"),this.k&&this.k.Td(Math.round(a*d),Math.round(b*d)),this.bd&&this.V&&(this.V.width=Math.round(a),this.V.height=Math.round(b)),this.V&&this.Tg(this.V,this.ea),this.pm(),this.Kk&&!this.mb&&window.scrollTo(0,0)}};h.prototype.pm=function(){if(this.dn&&0!==this.Mi){var a="portrait";2===this.Mi&&(a="landscape");try{screen.orientation&&
screen.orientation.lock?screen.orientation.lock(a).catch(function(){}):screen.lockOrientation?screen.lockOrientation(a):screen.webkitLockOrientation?screen.webkitLockOrientation(a):screen.mozLockOrientation?screen.mozLockOrientation(a):screen.msLockOrientation&&screen.msLockOrientation(a)}catch(b){console&&console.warn&&console.warn("Failed to lock orientation: ",b)}}};h.prototype.Gp=function(){this.k.mn();this.vi=!0;var a,b,d;a=0;for(b=this.e.length;a<b;a++)d=this.e[a],d.tl&&d.tl()};h.prototype.Hp=
function(){this.vi=!1;var a,b,d;a=0;for(b=this.e.length;a<b;a++)d=this.e[a],d.xl&&d.xl()};h.prototype.Hl=function(){if(!this.va){var a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.mf)&&!this.mb?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.wa).css(a)}};var c=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;
h.prototype.setSuspended=function(a){var b;if(a&&!this.nf)for(z("[Construct 2] Suspending"),this.nf=!0,-1!==this.Ui&&c&&c(this.Ui),-1!==this.jj&&clearTimeout(this.jj),a=0,b=this.ah.length;a<b;a++)this.ah[a](!0);else if(!a&&this.nf){z("[Construct 2] Resuming");this.nf=!1;this.xg=S();this.Md=S();a=this.Af=this.ng=0;for(b=this.ah.length;a<b;a++)this.ah[a](!1);this.De(!1)}};h.prototype.Oc=function(a){return this.Ig[a]};h.prototype.tf=function(a){a&&a.project||ea("Project model unavailable");a=a.project;
this.name=a[0];this.mk=a[1];this.La=a[12];this.ok=a[12];this.ka=a[10];this.ja=a[11];this.Bl=this.ka/2;this.Cl=this.ja/2;this.va&&!this.Fb&&(4<=a[12]||0===a[12])&&(z("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.ok=this.La=3);this.sj=a[18];this.gd=a[19];if(0===this.gd){var b=new Image;b.crossOrigin="anonymous";this.Yl(b,"loading-logo.png");this.fd={Fg:b}}else if(4===this.gd){b=new Image;b.src="";var d=new Image;d.src="";var f=
new Image;f.src="";var k=new Image;k.src="";var e=new Image;e.src="";var l=new Image;l.src="";var c=new Image;c.src="";var n=new Image;n.src="";var g=new Image;g.src="";var u=new Image;u.src="";var h=new Image;h.src="";var w=new Image;w.src="";this.fd={Fg:[b,d,f,k],Sp:[e,l,c,n],Dq:[g,u,h,w]}}this.Cf=a[21];this.Ig=[ac,X,X.prototype.m.ph,Z.prototype.$d.uj];this.ic=new Z(this);b=0;for(d=a[2].length;b<d;b++)c=a[2][b],f=this.Oc(c[0]),gb(c,f.prototype),n=new f(this),n.Xg=c[1],n.dd=c[2],n.Yr=c[5],n.ml=c[9],
n.Ua&&n.Ua(),this.plugins.push(n);this.Ig=[ac,X,X.prototype.m.ph,Z.prototype.$d.uj];b=0;for(d=a[3].length;b<d;b++){c=a[3][b];e=this.Oc(c[1]);n=null;f=0;for(k=this.plugins.length;f<k;f++)if(this.plugins[f]instanceof e){n=this.plugins[f];break}g=new n.Je(n);g.name=c[0];g.G=c[2];g.ki=c[3].slice(0);g.Bq=c[3].length;g.en=c[4];g.Eo=c[5];g.F=c[11];g.G?(g.kl=[],g.vc=this.Ze++,g.T=null):(g.kl=null,g.vc=-1,g.T=[]);g.jg=null;g.ge=null;g.hk=null;g.nb=!1;g.Ra=null;c[6]?(g.jm=c[6][0],g.km=c[6][1],g.qq=c[6][2]):
(g.jm=null,g.km=0,g.qq=0);c[7]?g.Pa=c[7]:g.Pa=null;g.index=b;g.c=[];g.fg=[];g.Ic=[new hb(g)];g.Wb=0;g.Xb=null;g.sn=0;g.Be=!0;g.jh=ib;g.Io=jb;g.No=kb;g.N=lb;g.Hf=mb;g.Si=nb;g.ve=ob;g.og=pb;g.Uh=qb;g.Wh=rb;g.Sc=sb;g.Yh=tb;g.$j=new Za(this.ka,this.ja);g.Kj=!0;g.Lj=!1;g.S={};g.toString=ub;g.U=[];f=0;for(k=c[8].length;f<k;f++){u=c[8][f];h=this.Oc(u[1]);w=null;e=0;for(l=this.U.length;e<l;e++)if(this.U[e]instanceof h){w=this.U[e];break}w||(w=new h(this),w.nl=[],w.Hi=new ba,w.Ua&&w.Ua(),this.U.push(w));-1===
w.nl.indexOf(g)&&w.nl.push(g);e=new w.Je(w,g);e.name=u[0];e.F=u[2];e.Ua();g.U.push(e)}g.global=c[9];g.qi=c[10];g.r=[];f=0;for(k=c[12].length;f<k;f++)g.r.push({id:c[12][f][0],name:c[12][f][1],fa:-1,Ib:!1,Za:!0,index:f});g.ns=c[13];this.sj&&!g.G&&!g.qi&&n.dd||g.Ua();g.name&&(this.types[g.name]=g);this.e.push(g);n.Xg&&(f=new n.Pc(g),f.uid=this.Cf++,f.Ll=this.ol++,f.Ed=0,f.df=vb,f.toString=wb,f.Fc=c[14],f.Ua(),g.c.push(f),this.Cc[f.uid.toString()]=f)}b=0;for(d=a[4].length;b<d;b++)for(e=a[4][b],l=this.e[e[0]],
f=1,k=e.length;f<k;f++)c=this.e[e[f]],c.T.push(l),l.kl.push(c);b=0;for(d=a[28].length;b<d;b++){e=a[28][b];l=[];f=0;for(k=e.length;f<k;f++)l.push(this.e[e[f]]);f=0;for(k=l.length;f<k;f++)l[f].nb=!0,l[f].Ra=l}if(0<this.Ze)for(b=0,d=this.e.length;b<d;b++)if(c=this.e[b],!c.G&&c.T.length){c.jg=Array(this.Ze);c.ge=Array(this.Ze);c.hk=Array(this.Ze);g=[];f=w=h=u=0;for(k=c.T.length;f<k;f++)for(n=c.T[f],c.jg[n.vc]=u,u+=n.Bq,c.ge[n.vc]=h,h+=n.en,c.hk[n.vc]=w,w+=n.Eo,e=0,l=n.r.length;e<l;e++)g.push(va({},n.r[e]));
c.r=g.concat(c.r);f=0;for(k=c.r.length;f<k;f++)c.r[f].index=f}b=0;for(d=a[5].length;b<d;b++)c=a[5][b],f=new xb(this,c),this.Ai[f.name]=f,this.Gb.push(f);b=0;for(d=a[6].length;b<d;b++)c=a[6][b],f=new yb(this,c),this.Mh[f.name]=f,this.uc.push(f);b=0;for(d=this.uc.length;b<d;b++)this.uc[b].ba();b=0;for(d=this.uc.length;b<d;b++)this.uc[b].pj();b=0;for(d=this.ih.length;b<d;b++)this.ih[b].ba();P(this.ih);this.cn=a[7];this.Rd=a[9];this.Ne=1;this.Sn=a[13];this.ea=a[14];this.Zj=a[15];this.zq=a[17];this.Mi=
a[20];this.dn=0<this.Mi;this.Op=a[22];this.ab=this.zm=a[23];this.Ln=a[24];this.Tp=a[25];this.M=a[27]&&!this.Hd;this.Yg=Date.now();P(this.Ig);this.lp()};var a=!1;h.prototype.Cq=function(b,d){b.cocoonLazyLoad=!0;b.onerror=function(d){a=b.Vj=!0;console&&console.error&&console.error("Error loading image '"+b.src+"': ",d)};this.Fb?b.src=d:b.src||("undefined"!==typeof XAPKReader?XAPKReader.get(d,function(a){b.src=a},function(f){a=b.Vj=!0;console&&console.error&&console.error("Error extracting image '"+
d+"' from expansion file: ",f)}):(b.crossOrigin="anonymous",this.Yl(b,d)));this.Ie.push(b)};h.prototype.Do=function(a){var b,d;b=0;for(d=this.Ie.length;b<d;b++)if(this.Ie[b].pn===a)return this.Ie[b];return null};var d=0,l=!1;h.prototype.ep=function(){this.Oe&&(d=this.Oe.ks(this.cn))};h.prototype.Mj=function(){var a=d,b=0,f=0,k=!0,e,c,f=0;for(e=this.Ie.length;f<e;f++){c=this.Ie[f];var g=c.nn;if(!g||0>=g)g=5E4;a+=g;c.src&&(c.complete||c.loaded)&&!c.Vj?b+=g:k=!1}k&&this.Tp&&this.Oe&&(l||(this.Oe.ls(),
l=!0),f=this.Oe.Wr(),b+=f,f<d&&(k=!1));this.Jb=0==a?1:b/a;return k};var f=!1;h.prototype.go=function(){if(this.V||this.k){var b=this.V||this.Ni;this.wa&&this.Hl();var d=window.innerWidth,k=window.innerHeight;this.pe===d&&this.oe===k||this.setSize(d,k);this.Jb=0;this.Ok=-1;var c=this;if(this.Mj()&&(4!==this.gd||f))this.fp();else{k=Date.now()-this.Yg;if(b){var l=this.width,g=this.height,d=this.devicePixelRatio;if(3>this.gd&&(this.lb||500<=k&&this.Ok!=this.Jb)){b.clearRect(0,0,l,g);var k=l/2,g=g/2,l=
0===this.gd&&this.fd.Fg.complete,n=40*d,u=0,h=80*d,w;if(l){var m=this.fd.Fg,h=m.width*d;w=m.height*d;n=h/2;u=w/2;b.drawImage(m,M(k-n),M(g-u),h,w)}1>=this.gd?(k=M(k-n)+.5,g=M(g+(u+(l?12*d:0)))+.5,b.fillStyle=a?"red":"DodgerBlue",b.fillRect(k,g,Math.floor(h*this.Jb),6*d),b.strokeStyle="black",b.strokeRect(k,g,h,6*d),b.strokeStyle="white",b.strokeRect(k-1*d,g-1*d,h+2*d,8*d)):2===this.gd&&(b.font=this.Fb?"12pt ArialMT":"12pt Arial",b.fillStyle=a?"#f00":"#999",b.ms="middle",d=Math.round(100*this.Jb)+"%",
l=b.measureText?b.measureText(d):null,b.fillText(d,k-(l?l.width:0)/2,g));this.Ok=this.Jb}else if(4===this.gd){this.Qn(b);e?e(function(){c.go()}):setTimeout(function(){c.go()},16);return}}setTimeout(function(){c.go()},this.lb?10:100)}}};var w=-1,n="undefined"===typeof cr_is_preview?200:0,A=!0,k=!1,u=0,y=0,ka="undefined"===typeof cr_is_preview?3E3:0,ca=null,B=null,Y=0;h.prototype.Qn=function(b){if(!f){for(var d=Math.ceil(this.width),e=Math.ceil(this.height),c=this.fd.Fg,l=this.fd.Sp,g=this.fd.Dq,h=
0;4>h;++h)if(!c[h].complete||!l[h].complete||!g[h].complete)return;0===Y&&(w=Date.now());var h=Date.now(),p=!1,q=b,r,x;A||k?(b.clearRect(0,0,d,e),ca&&ca.width===d&&ca.height===e||(ca=document.createElement("canvas"),ca.width=d,ca.height=e,B=ca.getContext("2d")),q=B,p=!0,A&&1===Y&&(w=Date.now())):b.globalAlpha=1;q.fillStyle="#333333";q.fillRect(0,0,d,e);256<this.Ve?(r=Ea(.22*e,105,.6*d),x=.25*r,q.drawImage(m(l,r),.5*d-r/2,.2*e-x/2,r,x),x=r=Math.min(.395*e,.95*d),q.drawImage(m(c,r),.5*d-r/2,.485*e-
x/2,r,x),r=Ea(.22*e,105,.6*d),x=.25*r,q.drawImage(m(g,r),.5*d-r/2,.868*e-x/2,r,x),q.fillStyle="#3C3C3C",r=d,x=Math.max(.005*e,2),q.fillRect(0,.8*e-x/2,r,x),q.fillStyle=a?"red":"#E0FF65",r=d*this.Jb,q.fillRect(.5*d-r/2,.8*e-x/2,r,x)):(x=r=.55*e,q.drawImage(m(c,r),.5*d-r/2,.45*e-x/2,r,x),q.fillStyle="#3C3C3C",r=d,x=Math.max(.005*e,2),q.fillRect(0,.85*e-x/2,r,x),q.fillStyle=a?"red":"#E0FF65",r=d*this.Jb,q.fillRect(.5*d-r/2,.85*e-x/2,r,x));p&&(A?b.globalAlpha=0===Y?0:Math.min((h-w)/300,1):k&&(b.globalAlpha=
Math.max(1-(h-y)/300,0)),b.drawImage(ca,0,0,d,e));A&&300<=h-w&&2<=Y&&(A=!1,u=h);!A&&h-u>=ka&&!k&&1<=this.Jb&&(k=!0,y=h);if(k&&h-y>=300+n||"undefined"!==typeof cr_is_preview&&1<=this.Jb&&500>Date.now()-w)f=!0,k=A=!1,this.fd=B=ca=null;++Y}};h.prototype.fp=function(){this.wa&&(this.canvas.parentNode.removeChild(this.wa),this.wa=this.Ni=null);this.Yg=Date.now();this.Md=S();var a,b,d;if(this.sj)for(a=0,b=this.e.length;a<b;a++)d=this.e[a],d.G||d.qi||!d.xa.dd||d.Ua();else this.qf=!1;a=0;for(b=this.Gb.length;a<
b;a++)this.Gb[a].qn();2<=this.La&&(a=this.ka/this.ja,b=this.width/this.height,this.Ne=2!==this.La&&b>a||2===this.La&&b<a?this.height/this.ja:this.width/this.ka);this.mk?this.Ai[this.mk].gj():this.Gb[0].gj();this.sj||(this.Cg=1,this.trigger(Z.prototype.m.wj,null),window.C2_RegisterSW&&window.C2_RegisterSW());navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();a=0;for(b=this.e.length;a<b;a++)d=this.e[a],d.Fp&&d.Fp();document.hidden||document.webkitHidden||document.mozHidden||
document.msHidden?window.cr_setSuspended(!0):this.De(!1);this.bd&&AppMobi.webview.execute("onGameReady();")};h.prototype.De=function(a,b,d){if(this.I){var f=S();if(d||!this.nf||a){a||(e?this.Ui=e(this.lm):this.jj=setTimeout(this.lm,this.je?1:16));b=b||f;var k=this.La;((d=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&!this.mb)||this.mf)&&0<this.Cd&&(k=this.Cd);if(0<k){var k=window.innerWidth,c=window.innerHeight;this.pe===k&&this.oe===c||
this.setSize(k,c)}this.va||(d?(this.lg||(this.Sh=jQuery(this.canvas).css("margin")||"0",this.lg=!0),this.mi||this.Id||jQuery(this.canvas).css({"margin-left":""+Math.floor((screen.width-this.width/this.devicePixelRatio)/2)+"px","margin-top":""+Math.floor((screen.height-this.height/this.devicePixelRatio)/2)+"px"})):this.lg?(this.mi||this.Id||jQuery(this.canvas).css("margin",this.Sh),this.Sh="",this.lg=!1,0===this.La&&this.setSize(Math.round(this.sl/this.devicePixelRatio),Math.round(this.rl/this.devicePixelRatio),
!0)):(this.sl=this.width,this.rl=this.height));this.qf&&(d=this.Mj(),this.Cg=this.Jb,d&&(this.qf=!1,this.Jb=1,this.trigger(Z.prototype.m.wj,null),window.C2_RegisterSW&&window.C2_RegisterSW()));this.Ap(b);!this.J&&!this.lb||this.vi||this.Pf||a||(this.J=!1,this.k?this.Cb():this.wd(),this.Nf&&(this.canvas&&this.canvas.toDataURL&&(this.fm=this.canvas.toDataURL(this.Nf[0],this.Nf[1]),window.cr_onSnapshot&&window.cr_onSnapshot(this.fm),this.trigger(Z.prototype.m.Lm,null)),this.Nf=null));this.Xr||(this.Rf++,
this.ig++,this.ng++);this.Af+=S()-f}}};h.prototype.Ap=function(a){var b,d,f,k,e,c,l,g;1E3<=a-this.Md&&(this.Md+=1E3,1E3<=a-this.Md&&(this.Md=a),this.Rh=this.ng,this.ng=0,this.Fh=this.Af,this.Af=0);b=0;0!==this.xg&&(b=a-this.xg,0>b&&(b=0),this.xd=b/=1E3,.5<this.xd?this.xd=0:this.xd>1/this.ll&&(this.xd=1/this.ll));this.xg=a;this.fe=this.xd*this.Sf;this.ob.add(this.fe);this.mh.add(b);a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.mf)&&
!this.mb;2<=this.La||a&&0<this.Cd?(b=this.ka/this.ja,d=this.width/this.height,f=this.La,a&&0<this.Cd&&(f=this.Cd),this.Ne=2!==f&&d>b||2===f&&d<b?this.height/this.ja:this.width/this.ka,this.I&&(this.I.Sl(this.I.scrollX),this.I.Tl(this.I.scrollY))):this.Ne=this.ke?this.devicePixelRatio:1;this.Aa();this.yc++;this.ic.aq();this.yc--;this.Aa();this.yc++;d=this.ql.nd();a=0;for(b=d.length;a<b;a++)d[a].es();a=0;for(b=this.e.length;a<b;a++)if(c=this.e[a],!c.G&&(c.U.length||c.T.length))for(d=0,f=c.c.length;d<
f;d++)for(l=c.c[d],k=0,e=l.A.length;k<e;k++)l.A[k].De();a=0;for(b=this.e.length;a<b;a++)if(c=this.e[a],!c.G&&(c.U.length||c.T.length))for(d=0,f=c.c.length;d<f;d++)for(l=c.c[d],k=0,e=l.A.length;k<e;k++)g=l.A[k],g.Rp&&g.Rp();d=this.Ii.nd();a=0;for(b=d.length;a<b;a++)d[a].De();this.yc--;this.gp();for(a=0;this.Pe&&10>a++;)this.fk(this.Pe);a=0;for(b=this.uc.length;a<b;a++)this.uc[a].ei=!1;this.I.Ad&&this.I.Ad.la();P(this.Ol);this.yc++;a=0;for(b=this.e.length;a<b;a++)if(c=this.e[a],!c.G&&(c.U.length||c.T.length))for(d=
0,f=c.c.length;d<f;d++)for(l=c.c[d],k=0,e=l.A.length;k<e;k++)g=l.A[k],g.ij&&g.ij();d=this.Ji.nd();a=0;for(b=d.length;a<b;a++)d[a].ij();this.yc--};h.prototype.fk=function(a){var b=this.I;this.I.oq();var d,f,k;if(this.k)for(d=0,f=this.e.length;d<f;d++)k=this.e[d],k.G||!k.tm||k.global&&0!==k.c.length||-1!==a.jf.indexOf(k)||k.tm();b==a&&P(this.ic.Ya);P(this.Ol);this.Pl(!0);a.gj();this.Pl(!1);this.J=!0;this.Aa()};h.prototype.Pl=function(a){var b,d,f,k,e,c,l,g,n;b=0;for(d=this.U.length;b<d;b++)f=this.U[b],
a?f.Df&&f.Df():f.Ef&&f.Ef();b=0;for(d=this.e.length;b<d;b++)if(f=this.e[b],f.global||f.xa.Xg)for(k=0,e=f.c.length;k<e;k++)if(c=f.c[k],a?c.Df&&c.Df():c.Ef&&c.Ef(),c.A)for(l=0,g=c.A.length;l<g;l++)n=c.A[l],a?n.Df&&n.Df():n.Ef&&n.Ef()};h.prototype.sq=function(a){this.Ii.add(a)};h.prototype.rq=function(a){this.Ji.add(a)};h.prototype.rk=function(a){return a&&-1!==a.Bf?this.xd*a.Bf:this.fe};h.prototype.wd=function(){this.I.wd(this.V);this.bd&&this.V.present()};h.prototype.Cb=function(){this.M&&(this.yd=
1,this.I.ee(this.k));this.I.Cb(this.k);this.k.Vp()};h.prototype.vk=function(a){a=a.toString();return this.Cc.hasOwnProperty(a)?this.Cc[a]:null};var fa=[];h.prototype.Wd=function(a){var b,d;b=a.type.name;var f=null;if(this.vd.hasOwnProperty(b)){if(f=this.vd[b],f.contains(a))return}else f=fa.length?fa.pop():new ba,this.vd[b]=f;f.add(a);this.ad=!0;if(a.nb)for(b=0,d=a.siblings.length;b<d;b++)this.Wd(a.siblings[b]);this.pi&&f.Ge.push(a);this.oi||(this.yc++,this.trigger(Object.getPrototypeOf(a.type.xa).m.Mm,
a),this.yc--)};h.prototype.Aa=function(){if(this.ad){var a,b,d,f,k,e;this.pi=!0;d=0;for(k=this.Vb.length;d<k;++d)for(a=this.Vb[d],b=a.type,b.c.push(a),f=0,e=b.T.length;f<e;++f)b.T[f].c.push(a),b.T[f].Be=!0;P(this.Vb);this.Hm();Sa(this.vd);this.ad=this.pi=!1}};h.prototype.Hm=function(){for(var a in this.vd)this.vd.hasOwnProperty(a)&&this.Dm(this.vd[a])};h.prototype.Dm=function(a){var b=a.nd(),d=b[0].type,f,k,e,c,l,g;Ta(d.c,a);d.Be=!0;0===d.c.length&&(d.Lj=!1);f=0;for(k=d.T.length;f<k;++f)g=d.T[f],
Ta(g.c,a),g.Be=!0;f=0;for(k=this.ic.Ya.length;f<k;++f)if(l=this.ic.Ya[f],l.Xa.hasOwnProperty(d.index)&&Ta(l.Xa[d.index].Gd,a),!d.G)for(e=0,c=d.T.length;e<c;++e)g=d.T[e],l.Xa.hasOwnProperty(g.index)&&Ta(l.Xa[g.index].Gd,a);if(l=b[0].d){if(l.eb)for(e=l.c,f=0,k=e.length;f<k;++f)c=e[f],a.contains(c)&&(c.za(),l.ya.update(c,c.Na,null),c.Na.set(0,0,-1,-1));Ta(l.c,a);l.Kf(0)}for(f=0;f<b.length;++f)this.Cm(b[f],d);a.clear();fa.push(a);this.J=!0};h.prototype.Cm=function(a,b){var d,f,k;d=0;for(f=this.ek.length;d<
f;++d)this.ek[d](a);a.Wc&&b.$j.update(a,a.Wc,null);(d=a.d)&&d.xe(a,!0);if(a.A)for(d=0,f=a.A.length;d<f;++d)k=a.A[d],k.Ki&&k.Ki(),k.behavior.Hi.remove(a);this.ql.remove(a);this.Ii.remove(a);this.Ji.remove(a);a.Ki&&a.Ki();this.Cc.hasOwnProperty(a.uid.toString())&&delete this.Cc[a.uid.toString()];this.Jg--;100>b.fg.length&&b.fg.push(a)};var E=[];h.prototype.ud=function(a,b,d,f,k,e){var c,l,g,n;if(!a)return null;var u=this.e[a[1]],h=u.xa.dd;if(this.qf&&h&&!u.qi||h&&!this.k&&11===a[0][11])return null;
var w=b;h||(b=null);var m;u.fg.length?(m=u.fg.pop(),m.cc=!0,u.xa.Pc.call(m,u)):(m=new u.xa.Pc(u),m.cc=!1);!d||e||this.Cc.hasOwnProperty(a[2].toString())?m.uid=this.Cf++:m.uid=a[2];this.Cc[m.uid.toString()]=m;m.Ll=this.ol++;m.Ed=u.c.length;c=0;for(l=this.Vb.length;c<l;++c)this.Vb[c].type===u&&m.Ed++;m.df=vb;m.toString=wb;g=a[3];if(m.cc)Sa(m.S);else{m.S={};if("undefined"!==typeof cr_is_preview)for(m.Dk=[],m.Dk.length=g.length,c=0,l=g.length;c<l;c++)m.Dk[c]=g[c][1];m.ga=[];m.ga.length=g.length}c=0;for(l=
g.length;c<l;c++)m.ga[c]=g[c][0];if(h){var y=a[0];m.x=ga(f)?y[0]:f;m.y=ga(k)?y[1]:k;m.z=y[2];m.width=y[3];m.height=y[4];m.depth=y[5];m.i=y[6];m.opacity=y[7];m.Sa=y[8];m.Ta=y[9];m.Ca=y[10];c=y[11];!this.k&&u.r.length&&(m.Ca=c);m.Re=ab(m.Ca);this.g&&bb(m,m.Ca,this.g);if(m.cc){c=0;for(l=y[12].length;c<l;c++)for(g=0,n=y[12][c].length;g<n;g++)m.W[c][g]=y[12][c][g];m.Ba.set(0,0,0,0);m.Wc.set(0,0,-1,-1);m.Na.set(0,0,-1,-1);m.Zf.Wg(m.Ba);P(m.th)}else{m.W=y[12].slice(0);c=0;for(l=m.W.length;c<l;c++)m.W[c]=
y[12][c].slice(0);m.H=[];m.Qc=[];m.Qc.length=u.r.length;m.Ba=new O(0,0,0,0);m.Wc=new O(0,0,-1,-1);m.Na=new O(0,0,-1,-1);m.Zf=new ua;m.th=[];m.pa=zb;m.Qr=Ab;m.gb=Bb;m.za=Cb;m.yq=Db;m.os=Eb;m.Zb=Fb}m.uq=!1;m.wq=0;m.vq=0;m.tq=null;14===y.length&&(m.uq=!0,m.wq=y[13][0],m.vq=y[13][1],m.tq=y[13][2]);c=0;for(l=u.r.length;c<l;c++)m.Qc[c]=!0;m.Gc=!0;m.Mb=Gb;m.Mb();m.xm=!!m.H.length;m.sh=!0;m.yh=!0;u.Kj=!0;m.visible=!0;m.Bf=-1;m.d=b;m.Ob=b.c.length;m.yd=0;"undefined"===typeof m.Ub&&(m.Ub=null);this.J=m.Qe=
!0}var A;P(E);c=0;for(l=u.T.length;c<l;c++)E.push.apply(E,u.T[c].U);E.push.apply(E,u.U);if(m.cc)for(c=0,l=E.length;c<l;c++){var p=E[c];A=m.A[c];A.cc=!0;p.behavior.Pc.call(A,p,m);y=a[4][c];g=0;for(n=y.length;g<n;g++)A.Fc[g]=y[g];A.Ua();p.behavior.Hi.add(m)}else for(m.A=[],c=0,l=E.length;c<l;c++)p=E[c],A=new p.behavior.Pc(p,m),A.cc=!1,A.Fc=a[4][c].slice(0),A.Ua(),m.A.push(A),p.behavior.Hi.add(m);y=a[5];if(m.cc)for(c=0,l=y.length;c<l;c++)m.Fc[c]=y[c];else m.Fc=y.slice(0);this.Vb.push(m);this.ad=!0;b&&
(b.Me(m,!0),1!==b.Dc||1!==b.Ec)&&(u.Lj=!0);this.Jg++;if(u.nb){if(m.nb=!0,m.cc?P(m.siblings):m.siblings=[],!d&&!e){c=0;for(l=u.Ra.length;c<l;c++)if(u.Ra[c]!==u){if(!u.Ra[c].Xb)return null;m.siblings.push(this.ud(u.Ra[c].Xb,w,!1,h?m.x:f,h?m.y:k,!0))}c=0;for(l=m.siblings.length;c<l;c++)for(m.siblings[c].siblings.push(m),g=0;g<l;g++)c!==g&&m.siblings[c].siblings.push(m.siblings[g])}}else m.nb=!1,m.siblings=null;m.Ua();c=0;for(l=m.A.length;c<l;c++)m.A[c].Qp&&m.A[c].Qp();return m};h.prototype.Zh=function(a){var b,
d;b=0;for(d=this.I.u.length;b<d;b++){var f=this.I.u[b];if(db(f.name,a))return f}return null};h.prototype.bf=function(a){a=M(a);0>a&&(a=0);a>=this.I.u.length&&(a=this.I.u.length-1);return this.I.u[a]};h.prototype.Dh=function(a){var b,d;b=0;for(d=a.length;b<d;b++)a[b].N().Y=!0};h.prototype.Hf=function(a){var b,d;b=0;for(d=a.length;b<d;b++)a[b].Hf()};h.prototype.Si=function(a){var b,d;b=0;for(d=a.length;b<d;b++)a[b].Si()};h.prototype.ve=function(a){var b,d;b=0;for(d=a.length;b<d;b++)a[b].ve()};h.prototype.dh=
function(a,b,d){var f=a.N(),k,c,e,l,g=this.Ma().ib.Hb,n,u,h;if(f.Y)for(f.Y=!1,P(f.c),k=0,l=a.c.length;k<l;k++)e=a.c[k],e.za(),n=e.d.Ha(b,d,!0),u=e.d.Ha(b,d,!1),e.gb(n,u)?f.c.push(e):g&&f.D.push(e);else{c=0;h=g?f.D:f.c;k=0;for(l=h.length;k<l;k++)e=h[k],e.za(),n=e.d.Ha(b,d,!0),u=e.d.Ha(b,d,!1),e.gb(n,u)&&(g?f.c.push(e):(f.c[c]=f.c[k],c++));h.length=c}a.Sc();return f.di()};new ua;new O(0,0,0,0);h.prototype.qm=function(a,b){if(!b)return!1;var d,f,k,c,e;d=0;for(f=a.U.length;d<f;d++)if(a.U[d].behavior instanceof
b)return!0;if(!a.G)for(d=0,f=a.T.length;d<f;d++)for(e=a.T[d],k=0,c=e.U.length;k<c;k++)if(e.U[k].behavior instanceof b)return!0;return!1};h.prototype.nj=function(a){return this.qm(a,Ub.ir)};h.prototype.oj=function(a){return this.qm(a,Ub.jr)};var G=-1;h.prototype.trigger=function(a,b,d){if(!this.I)return!1;var f=this.I.Ad;if(!f)return!1;var k=!1,c,e,l;G++;var g=f.Jh;e=0;for(l=g.length;e<l;++e)c=this.nm(a,b,g[e],d),k=k||c;c=this.nm(a,b,f,d);G--;return k||c};h.prototype.nm=function(a,b,d,f){var k=!1,
c,e,l,g;if(b)for(l=this.lj(a,b,b.type.name,d,f),k=k||l,g=b.type.T,c=0,e=g.length;c<e;++c)l=this.lj(a,b,g[c].name,d,f),k=k||l;else l=this.lj(a,b,"system",d,f),k=k||l;return k};h.prototype.lj=function(a,b,d,f,k){var c,e=!1,l=!1,l="undefined"!==typeof k,g=(l?f.jk:f.om)[d];if(!g)return e;var n=null;f=0;for(c=g.length;f<c;++f)if(g[f].method==a){n=g[f].Ye;break}if(!n)return e;var u;l?u=n[k]:u=n;if(!u)return null;f=0;for(c=u.length;f<c;f++)a=u[f][0],k=u[f][1],l=this.zo(b,d,a,k),e=e||l;return e};h.prototype.zo=
function(a,b,d,f){var k,c,e=!1;this.mj++;var l=this.Ma().ib;l&&this.Hf(l.ld);var g=1<this.mj;this.Hf(d.ld);g&&this.Xp();var n=this.Ti(d);n.ib=d;a&&(k=this.types[b].N(),k.Y=!1,P(k.c),k.c[0]=a,this.types[b].Sc());a=!0;if(d.parent){b=n.im;for(k=d.parent;k;)b.push(k),k=k.parent;b.reverse();k=0;for(c=b.length;k<c;k++)if(!b[k].cq()){a=!1;break}}a&&(this.ig++,d.Hb?d.bq(f):d.la(),e=e||n.Ld);this.Gl();g&&this.Pp();this.ve(d.ld);l&&this.ve(l.ld);this.ad&&0===this.yc&&0===G&&!this.ri&&this.Aa();this.mj--;return e};
h.prototype.Ho=function(){var a=this.Ma();return a.ib.Da[a.Qa]};h.prototype.Xp=function(){this.Eg++;this.Eg>=this.Ei.length&&this.Ei.push([])};h.prototype.Pp=function(){this.Eg--};h.prototype.qk=function(){return this.Ei[this.Eg]};h.prototype.Ti=function(a){this.hg++;this.hg>=this.Lh.length&&this.Lh.push(new Hb);var b=this.Ma();b.reset(a);return b};h.prototype.Gl=function(){this.hg--};h.prototype.Ma=function(){return this.Lh[this.hg]};h.prototype.sk=function(a,b){for(var d,f,k,c,e,l;b;){d=0;for(f=
b.ub.length;d<f;d++)if(l=b.ub[d],l instanceof Ib&&db(a,l.name))return l;b=b.parent}d=0;for(f=this.uc.length;d<f;d++)for(e=this.uc[d],k=0,c=e.Yc.length;k<c;k++)if(l=e.Yc[k],l instanceof Ib&&db(a,l.name))return l;return null};h.prototype.tk=function(a){var b,d;b=0;for(d=this.Gb.length;b<d;b++)if(this.Gb[b].F===a)return this.Gb[b];return null};h.prototype.qg=function(a){var b,d;b=0;for(d=this.e.length;b<d;b++)if(this.e[b].F===a)return this.e[b];return null};h.prototype.Jo=function(a){var b,d;b=0;for(d=
this.ae.length;b<d;b++)if(this.ae[b].F===a)return this.ae[b];return null};h.prototype.tn=function(a,b){this.Nf=[a,b];this.J=!0};h.prototype.gp=function(){var a=this,b=this.ej,d=this.zc,f=this.Ag,k=!1;this.em&&(k=!0,b="__c2_continuouspreview",this.em=!1);if(b.length){this.Aa();d=this.hq();if(p()&&!this.lb)v(b,d,function(){z("Saved state to IndexedDB storage ("+d.length+" bytes)");a.zc=d;a.trigger(Z.prototype.m.oh,null);a.zc="";k&&g()},function(f){try{localStorage.setItem("__c2save_"+b,d),z("Saved state to WebStorage ("+
d.length+" bytes)"),a.zc=d,a.trigger(Z.prototype.m.oh,null),a.zc="",k&&g()}catch(c){z("Failed to save game state: "+f+"; "+c),a.trigger(Z.prototype.m.zj,null)}});else try{localStorage.setItem("__c2save_"+b,d),z("Saved state to WebStorage ("+d.length+" bytes)"),a.zc=d,this.trigger(Z.prototype.m.oh,null),a.zc="",k&&g()}catch(c){z("Error saving to WebStorage: "+c),a.trigger(Z.prototype.m.zj,null)}this.Ag=this.ej="";this.ia=null}if(f.length){if(p()&&!this.lb)r(f,function(b){b?(a.ia=b,z("Loaded state from IndexedDB storage ("+
a.ia.length+" bytes)")):(a.ia=localStorage.getItem("__c2save_"+f)||"",z("Loaded state from WebStorage ("+a.ia.length+" bytes)"));a.Pf=!1;a.ia||(a.ia=null,a.trigger(Z.prototype.m.Yf,null))},function(){a.ia=localStorage.getItem("__c2save_"+f)||"";z("Loaded state from WebStorage ("+a.ia.length+" bytes)");a.Pf=!1;a.ia||(a.ia=null,a.trigger(Z.prototype.m.Yf,null))});else{try{this.ia=localStorage.getItem("__c2save_"+f)||"",z("Loaded state from WebStorage ("+this.ia.length+" bytes)")}catch(e){this.ia=null}this.Pf=
!1;a.ia||(a.ia=null,a.trigger(Z.prototype.m.Yf,null))}this.ej=this.Ag=""}null!==this.ia&&(this.Aa(),this.yp(this.ia)?(this.zc=this.ia,this.trigger(Z.prototype.m.Tm,null),this.zc=""):a.trigger(Z.prototype.m.Yf,null),this.ia=null)};h.prototype.hq=function(){var a,d,f,k,c,e,l,g={c2save:!0,version:1,rt:{time:this.ob.aa,walltime:this.mh.aa,timescale:this.Sf,tickcount:this.Rf,execcount:this.ig,next_uid:this.Cf,running_layout:this.I.F,start_time_offset:Date.now()-this.Yg},types:{},layouts:{},events:{groups:{},
cnds:{},acts:{},vars:{}}};a=0;for(d=this.e.length;a<d;a++)if(c=this.e[a],!c.G&&!this.nj(c)){e={instances:[]};Ra(c.S)&&(e.ex=b(c.S));f=0;for(k=c.c.length;f<k;f++)e.instances.push(this.dj(c.c[f]));g.types[c.F.toString()]=e}a=0;for(d=this.Gb.length;a<d;a++)f=this.Gb[a],g.layouts[f.F.toString()]=f.hc();k=g.events.groups;a=0;for(d=this.ae.length;a<d;a++)f=this.ae[a],k[f.F.toString()]=this.rg[f.ff].ef;d=g.events.cnds;for(l in this.Vc)this.Vc.hasOwnProperty(l)&&(a=this.Vc[l],Ra(a.S)&&(d[l]={ex:b(a.S)}));
d=g.events.acts;for(l in this.Rc)this.Rc.hasOwnProperty(l)&&(a=this.Rc[l],Ra(a.S)&&(d[l]={ex:b(a.S)}));d=g.events.vars;for(l in this.He)this.He.hasOwnProperty(l)&&(a=this.He[l],a.ug||a.parent&&!a.pf||(d[l]=a.data));g.system=this.ic.hc();return JSON.stringify(g)};h.prototype.Nl=function(){var a,b,d,f,k,c;this.Cc={};a=0;for(b=this.e.length;a<b;a++)if(d=this.e[a],!d.G)for(f=0,k=d.c.length;f<k;f++)c=d.c[f],this.Cc[c.uid.toString()]=c};h.prototype.yp=function(a){var b;try{b=JSON.parse(a)}catch(d){return!1}if(!b.c2save||
1<b.version)return!1;this.lf=!0;a=b.rt;this.ob.reset();this.ob.aa=a.time;this.mh.reset();this.mh.aa=a.walltime||0;this.Sf=a.timescale;this.Rf=a.tickcount;this.ig=a.execcount;this.Yg=Date.now()-a.start_time_offset;var f=a.running_layout;if(f!==this.I.F)if(f=this.tk(f))this.fk(f);else return;var k,c,e,l,g,n,u;n=b.types;for(c in n)if(n.hasOwnProperty(c)&&(l=this.qg(parseInt(c,10)))&&!l.G&&!this.nj(l)){n[c].ex?l.S=n[c].ex:Sa(l.S);g=l.c;e=n[c].instances;f=0;for(k=qa(g.length,e.length);f<k;f++)this.Bg(g[f],
e[f]);f=e.length;for(k=g.length;f<k;f++)this.Wd(g[f]);f=g.length;for(k=e.length;f<k;f++){g=null;if(l.xa.dd&&(g=this.I.pg(e[f].w.l),!g))continue;g=this.ud(l.Xb,g,!1,0,0,!0);this.Bg(g,e[f])}l.Be=!0}this.Aa();this.Nl();k=b.layouts;for(c in k)k.hasOwnProperty(c)&&(f=this.tk(parseInt(c,10)))&&f.ed(k[c]);k=b.events.groups;for(c in k)k.hasOwnProperty(c)&&(f=this.Jo(parseInt(c,10)))&&this.rg[f.ff]&&this.rg[f.ff].iq(k[c]);f=b.events.cnds;for(c in this.Vc)this.Vc.hasOwnProperty(c)&&(f.hasOwnProperty(c)?this.Vc[c].S=
f[c].ex:this.Vc[c].S={});f=b.events.acts;for(c in this.Rc)this.Rc.hasOwnProperty(c)&&(f.hasOwnProperty(c)?this.Rc[c].S=f[c].ex:this.Rc[c].S={});f=b.events.vars;for(c in f)f.hasOwnProperty(c)&&this.He.hasOwnProperty(c)&&(this.He[c].data=f[c]);this.Cf=a.next_uid;this.lf=!1;f=0;for(k=this.kg.length;f<k;++f)g=this.kg[f],this.trigger(Object.getPrototypeOf(g.type.xa).m.vj,g);P(this.kg);this.ic.ed(b.system);f=0;for(k=this.e.length;f<k;f++)if(l=this.e[f],!l.G&&!this.nj(l))for(b=0,c=l.c.length;b<c;b++){g=
l.c[b];if(l.nb)for(n=g.df(),P(g.siblings),a=0,e=l.Ra.length;a<e;a++)u=l.Ra[a],l!==u&&g.siblings.push(u.c[n]);g.od&&g.od();if(g.A)for(a=0,e=g.A.length;a<e;a++)n=g.A[a],n.od&&n.od()}return this.J=!0};h.prototype.dj=function(a,d){var f,k,c,e,l;e=a.type;c=e.xa;var g={};d?g.c2=!0:g.uid=a.uid;Ra(a.S)&&(g.ex=b(a.S));if(a.ga&&a.ga.length)for(g.ivs={},f=0,k=a.ga.length;f<k;f++)g.ivs[a.type.ki[f].toString()]=a.ga[f];if(c.dd){c={x:a.x,y:a.y,w:a.width,h:a.height,l:a.d.F,zi:a.Zb()};0!==a.i&&(c.a=a.i);1!==a.opacity&&
(c.o=a.opacity);.5!==a.Sa&&(c.hX=a.Sa);.5!==a.Ta&&(c.hY=a.Ta);0!==a.Ca&&(c.bm=a.Ca);a.visible||(c.v=a.visible);a.Qe||(c.ce=a.Qe);-1!==a.Bf&&(c.mts=a.Bf);if(e.r.length)for(c.fx=[],f=0,k=e.r.length;f<k;f++)l=e.r[f],c.fx.push({name:l.name,active:a.Qc[l.index],params:a.W[l.index]});g.w=c}if(a.A&&a.A.length)for(g.behs={},f=0,k=a.A.length;f<k;f++)e=a.A[f],e.hc&&(g.behs[e.type.F.toString()]=e.hc());a.hc&&(g.data=a.hc());return g};h.prototype.Lo=function(a,b){var d,f;d=0;for(f=a.ki.length;d<f;d++)if(a.ki[d]===
b)return d;return-1};h.prototype.Go=function(a,b){var d,f;d=0;for(f=a.A.length;d<f;d++)if(a.A[d].type.F===b)return d;return-1};h.prototype.Bg=function(a,b,d){var f,k,c,e,l;l=a.type;e=l.xa;if(d){if(!b.c2)return}else a.uid=b.uid;b.ex?a.S=b.ex:Sa(a.S);if(k=b.ivs)for(f in k)k.hasOwnProperty(f)&&(c=this.Lo(l,parseInt(f,10)),0>c||c>=a.ga.length||(a.ga[c]=k[f]));if(e.dd){c=b.w;a.d.F!==c.l&&(k=a.d,a.d=this.I.pg(c.l),a.d?(k.xe(a,!0),a.d.Me(a,!0),a.pa(),a.d.Kf(0)):(a.d=k,d||this.Wd(a)));a.x=c.x;a.y=c.y;a.width=
c.w;a.height=c.h;a.Ob=c.zi;a.i=c.hasOwnProperty("a")?c.a:0;a.opacity=c.hasOwnProperty("o")?c.o:1;a.Sa=c.hasOwnProperty("hX")?c.hX:.5;a.Ta=c.hasOwnProperty("hY")?c.hY:.5;a.visible=c.hasOwnProperty("v")?c.v:!0;a.Qe=c.hasOwnProperty("ce")?c.ce:!0;a.Bf=c.hasOwnProperty("mts")?c.mts:-1;a.Ca=c.hasOwnProperty("bm")?c.bm:0;a.Re=ab(a.Ca);this.g&&bb(a,a.Ca,this.g);a.pa();if(c.hasOwnProperty("fx"))for(d=0,k=c.fx.length;d<k;d++)e=l.Wh(c.fx[d].name),0>e||(a.Qc[e]=c.fx[d].active,a.W[e]=c.fx[d].params);a.Mb()}if(l=
b.behs)for(f in l)l.hasOwnProperty(f)&&(d=this.Go(a,parseInt(f,10)),0>d||a.A[d].ed(l[f]));b.data&&a.ed(b.data)};h.prototype.kk=function(a,b,d){window.resolveLocalFileSystemURL(cordova.file.applicationDirectory+"www/"+a,function(a){a.file(b,d)},d)};h.prototype.Bo=function(a,b){this.kk("data.js",function(d){var f=new FileReader;f.onload=function(b){a(b.target.result)};f.onerror=b;f.readAsText(d)},b)};var ha=[],V=0;h.prototype.Fi=function(){if(ha.length&&!(8<=V)){V++;var a=ha.shift();this.xn(a.filename,
a.pq,a.Vn)}};h.prototype.Ao=function(a,b,d){var f=this;ha.push({filename:a,pq:function(a){V--;f.Fi();b(a)},Vn:function(a){V--;f.Fi();d(a)}});this.Fi()};h.prototype.xn=function(a,b,d){this.kk(a,function(a){var d=new FileReader;d.onload=function(a){b(a.target.result)};d.readAsArrayBuffer(a)},d)};h.prototype.Co=function(a,b,d){this.Ao(a,function(a){a=URL.createObjectURL(new Blob([a]));b(a)},d)};h.prototype.mp=function(a){return/^(?:[a-z]+:)?\/\//.test(a)||"data:"===a.substr(0,5)||"blob:"===a.substr(0,
5)};h.prototype.Yl=function(a,b){this.si&&!this.mp(b)?this.Co(b,function(b){a.src=b},function(a){alert("Failed to load image: "+a)}):a.src=b};h.prototype.Tg=function(a,b){"undefined"!==typeof a.imageSmoothingEnabled?a.imageSmoothingEnabled=b:(a.webkitImageSmoothingEnabled=b,a.mozImageSmoothingEnabled=b,a.msImageSmoothingEnabled=b)};Jb=function(a){return new h(document.getElementById(a))};Kb=function(a,b){return new h({dc:!0,width:a,height:b})};window.cr_createRuntime=Jb;window.cr_createDCRuntime=
Kb;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var a=document.createElement("screencanvas")||document.createElement("canvas");a.Oj=!0;document.body.appendChild(a);a=new h(a);window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a};window.createEjectaRuntime=function(){var a=new h(document.getElementById("canvas"));window.c2runtime=
a;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a}})();window.cr_getC2Runtime=function(){var h=document.getElementById("c2canvas");return h?h.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_getSnapshot=function(h,m){var p=window.cr_getC2Runtime();p&&p.tn(h,m)};window.cr_sizeCanvas=function(h,m){if(0!==h&&0!==m){var p=window.cr_getC2Runtime();p&&p.setSize(h,m)}};window.cr_setSuspended=function(h){var m=window.cr_getC2Runtime();m&&m.setSuspended(h)};
(function(){function h(a,b){this.b=a;this.Ad=null;this.scrollX=this.b.ka/2;this.scrollY=this.b.ja/2;this.scale=1;this.i=0;this.he=!0;this.name=b[0];this.Np=b[1];this.Mp=b[2];this.width=b[1];this.height=b[2];this.rm=b[3];this.cm=b[4];this.F=b[5];var c=b[6],f,e;this.u=[];this.jf=[];f=0;for(e=c.length;f<e;f++){var g=new Lb(this,c[f]);g.pl=f;this.u.push(g)}c=b[7];this.Fd=[];f=0;for(e=c.length;f<e;f++){var g=c[f],h=this.b.e[g[1]];h.Xb||(h.Xb=g);this.Fd.push(g);-1===this.jf.indexOf(h)&&this.jf.push(h)}this.r=
[];this.H=[];this.Gc=!0;this.W=[];f=0;for(e=b[8].length;f<e;f++)this.r.push({id:b[8][f][0],name:b[8][f][1],fa:-1,Ib:!1,Za:!0,index:f}),this.W.push(b[8][f][2].slice(0));this.Mb();this.Vi=new O(0,0,1,1);this.Wi=new O(0,0,1,1);this.jd={}}function m(a,b){return a.Ob-b.Ob}function p(a,b){this.na=a;this.b=a.b;this.c=[];this.scale=1;this.i=0;this.tc=!1;this.Jc=new O(0,0,0,0);this.mm=new ua;this.Q=this.L=this.R=this.K=0;this.Vd=!1;this.Mc=-1;this.Eh=0;this.name=b[0];this.index=b[1];this.F=b[2];this.visible=
b[3];this.Ab=b[4];this.Lb=b[5];this.Dc=b[6];this.Ec=b[7];this.opacity=b[8];this.mg=b[9];this.eb=b[10];this.Nc=b[11];this.Ca=b[12];this.Rn=b[13];this.Re="source-over";this.Ea=this.Ga=0;this.ya=null;this.Ac=q();this.Kb=!0;this.qe=new O(0,0,-1,-1);this.ta=new O(0,0,-1,-1);this.eb&&(this.ya=new $a(this.b.ka,this.b.ja));this.ec=!1;var c=b[14],f,e;this.hm=[];this.bb=[];this.Ue=[];f=0;for(e=c.length;f<e;f++){var g=c[f],h=this.b.e[g[1]];h.Xb||(h.Xb=g,h.sn=this.index);this.bb.push(g);-1===this.na.jf.indexOf(h)&&
this.na.jf.push(h)}ya(this.hm,this.bb);this.r=[];this.H=[];this.Gc=!0;this.W=[];f=0;for(e=b[15].length;f<e;f++)this.r.push({id:b[15][f][0],name:b[15][f][1],fa:-1,Ib:!1,Za:!0,index:f}),this.W.push(b[15][f][2].slice(0));this.Mb();this.Vi=new O(0,0,1,1);this.Wi=new O(0,0,1,1)}function q(){return b.length?b.pop():[]}function v(a){P(a);b.push(a)}h.prototype.gq=function(a){var b=a.type.F.toString();this.jd.hasOwnProperty(b)||(this.jd[b]=[]);this.jd[b].push(this.b.dj(a))};h.prototype.xk=function(){var a=
this.u[0];return!a.Lb&&1===a.opacity&&!a.mg&&a.visible};h.prototype.Mb=function(){P(this.H);this.Gc=!0;var a,b,c;a=0;for(b=this.r.length;a<b;a++)c=this.r[a],c.Za&&(this.H.push(c),c.Ib||(this.Gc=!1))};h.prototype.Vh=function(a){var b,c,f;b=0;for(c=this.r.length;b<c;b++)if(f=this.r[b],f.name===a)return f;return null};var r=[],g=!0;h.prototype.gj=function(){this.cm&&(this.Ad=this.b.Mh[this.cm],this.Ad.pj());this.b.I=this;this.width=this.Np;this.height=this.Mp;this.scrollX=this.b.ka/2;this.scrollY=this.b.ja/
2;var a,b,c,f,e,n,h;a=0;for(c=this.b.e.length;a<c;a++)if(b=this.b.e[a],!b.G)for(e=b.c,b=0,f=e.length;b<f;b++)if(n=e[b],n.d){var k=n.d.pl;k>=this.u.length&&(k=this.u.length-1);n.d=this.u[k];-1===n.d.c.indexOf(n)&&n.d.c.push(n);n.d.Vd=!0}if(!g)for(a=0,c=this.u.length;a<c;++a)this.u[a].c.sort(m);P(r);this.gn();a=0;for(c=this.u.length;a<c;a++)n=this.u[a],n.rn(),n.kh();e=!1;if(!this.he){for(h in this.jd)if(this.jd.hasOwnProperty(h)&&(b=this.b.qg(parseInt(h,10)))&&!b.G&&this.b.oj(b)){f=this.jd[h];a=0;for(c=
f.length;a<c;a++){n=null;if(b.xa.dd&&(n=this.pg(f[a].w.l),!n))continue;n=this.b.ud(b.Xb,n,!1,0,0,!0);this.b.Bg(n,f[a]);e=!0;r.push(n)}P(f)}a=0;for(c=this.u.length;a<c;a++)this.u[a].c.sort(m),this.u[a].Vd=!0}e&&(this.b.Aa(),this.b.Nl());for(a=0;a<r.length;a++)if(n=r[a],n.type.nb)for(c=n.df(),b=0,f=n.type.Ra.length;b<f;b++)h=n.type.Ra[b],n.type!==h&&(h.c.length>c?n.siblings.push(h.c[c]):h.Xb&&(e=this.b.ud(h.Xb,n.d,!0,n.x,n.y,!0),this.b.Aa(),h.jh(),n.siblings.push(e),r.push(e)));a=0;for(c=this.Fd.length;a<
c;a++)this.b.ud(this.Fd[a],null,!0);this.b.Pe=null;this.b.Aa();if(this.b.V&&!this.b.va)for(a=0,c=this.b.e.length;a<c;a++)h=this.b.e[a],!h.G&&h.c.length&&h.Il&&h.Il(this.b.V);if(this.b.lf)ya(this.b.kg,r);else for(a=0,c=r.length;a<c;a++)n=r[a],this.b.trigger(Object.getPrototypeOf(n.type.xa).m.vj,n);P(r);this.b.lf||this.b.trigger(Z.prototype.m.Sm,null);this.he=!1};h.prototype.qn=function(){var a,b,c,f,e;b=a=0;for(c=this.Fd.length;a<c;a++)f=this.Fd[a],e=this.b.e[f[1]],e.global?e.nb||this.b.ud(f,null,
!0):(this.Fd[b]=f,b++);xa(this.Fd,b)};h.prototype.oq=function(){this.b.lf||this.b.trigger(Z.prototype.m.Rm,null);this.b.oi=!0;P(this.b.ic.Ya);var a,b,c,f,e,n;if(!this.he)for(a=0,b=this.u.length;a<b;a++)for(this.u[a].rj(),e=this.u[a].c,c=0,f=e.length;c<f;c++)n=e[c],n.type.global||this.b.oj(n.type)&&this.gq(n);a=0;for(b=this.u.length;a<b;a++){e=this.u[a].c;c=0;for(f=e.length;c<f;c++)n=e[c],n.type.global||this.b.Wd(n);this.b.Aa();P(e);this.u[a].Vd=!0}a=0;for(b=this.b.e.length;a<b;a++)if(e=this.b.e[a],
!(e.global||e.xa.dd||e.xa.Xg||e.G)){c=0;for(f=e.c.length;c<f;c++)this.b.Wd(e.c[c]);this.b.Aa()}g=!1;this.b.oi=!1};new O(0,0,0,0);h.prototype.wd=function(a){var b,c=a,f=!1,e=!this.b.ab;e&&(this.b.zg||(this.b.zg=document.createElement("canvas"),b=this.b.zg,b.width=this.b.q,b.height=this.b.p,this.b.Qk=b.getContext("2d"),f=!0),b=this.b.zg,c=this.b.Qk,b.width!==this.b.q&&(b.width=this.b.q,f=!0),b.height!==this.b.p&&(b.height=this.b.p,f=!0),f&&this.b.Tg(c,this.b.ea));c.globalAlpha=1;c.globalCompositeOperation=
"source-over";this.b.Zj&&!this.xk()&&c.clearRect(0,0,this.b.q,this.b.p);var g,h,f=0;for(g=this.u.length;f<g;f++)h=this.u[f],h.visible&&0<h.opacity&&11!==h.Ca&&(h.c.length||!h.Lb)?h.wd(c):h.kh();e&&a.drawImage(b,0,0,this.b.width,this.b.height)};h.prototype.ee=function(a){a.Xl(!0);this.b.da||(this.b.da=a.hb(this.b.q,this.b.p,this.b.ea));if(this.b.da.td!==this.b.q||this.b.da.sd!==this.b.p)a.deleteTexture(this.b.da),this.b.da=a.hb(this.b.q,this.b.p,this.b.ea);a.sb(this.b.da);this.b.ab||a.Td(this.b.q,
this.b.p);var b,c;for(b=this.u.length-1;0<=b;--b)c=this.u[b],c.visible&&1===c.opacity&&c.Gc&&0===c.Ca&&(c.c.length||!c.Lb)?c.ee(a):c.kh();a.Xl(!1)};h.prototype.Cb=function(a){var b=0<this.H.length||this.b.Fe||!this.b.ab||this.b.M;if(b){this.b.da||(this.b.da=a.hb(this.b.q,this.b.p,this.b.ea));if(this.b.da.td!==this.b.q||this.b.da.sd!==this.b.p)a.deleteTexture(this.b.da),this.b.da=a.hb(this.b.q,this.b.p,this.b.ea);a.sb(this.b.da);this.b.ab||a.Td(this.b.q,this.b.p)}else this.b.da&&(a.sb(null),a.deleteTexture(this.b.da),
this.b.da=null);this.b.Zj&&!this.xk()&&a.clear(0,0,0,0);var c,f,e;c=0;for(f=this.u.length;c<f;c++)e=this.u[c],e.visible&&0<e.opacity&&(e.c.length||!e.Lb)?e.Cb(a):e.kh();b&&(0===this.H.length||1===this.H.length&&this.b.ab?(1===this.H.length?(b=this.H[0].index,a.Oa(this.H[0].fa),a.ze(null,1/this.b.q,1/this.b.p,0,0,1,1,this.scale,this.i,0,0,this.b.q/2,this.b.p/2,this.b.ob.aa,this.W[b]),a.Pg(this.H[0].fa)&&(this.b.J=!0)):a.Oa(0),this.b.ab||a.Td(this.b.width,this.b.height),a.sb(null),a.Wl(!1),a.Jf(1),
a.tb(this.b.da),a.Ul(),a.fc(),a.Nb(),b=this.b.width/2,c=this.b.height/2,a.If(-b,c,b,c,b,-c,-b,-c),a.tb(null),a.Wl(!0)):this.Xi(a,null,null,null))};h.prototype.cf=function(){return 0<this.H.length||this.b.Fe||!this.b.ab||this.b.M?this.b.da:null};h.prototype.uk=function(){var a=this.u[0].kb(),b,c,f;b=1;for(c=this.u.length;b<c;b++)f=this.u[b],(0!==f.Dc||0!==f.Ec)&&f.kb()<a&&(a=f.kb());return a};h.prototype.Sl=function(a){if(!this.rm){var b=1/this.uk()*this.b.q/2;a>this.width-b&&(a=this.width-b);a<b&&
(a=b)}this.scrollX!==a&&(this.scrollX=a,this.b.J=!0)};h.prototype.Tl=function(a){if(!this.rm){var b=1/this.uk()*this.b.p/2;a>this.height-b&&(a=this.height-b);a<b&&(a=b)}this.scrollY!==a&&(this.scrollY=a,this.b.J=!0)};h.prototype.gn=function(){this.Sl(this.scrollX);this.Tl(this.scrollY)};h.prototype.Xi=function(a,b,c,f){var e=c?c.H:b?b.H:this.H,g=1,h=0,k=0,u=0,m=this.b.q,p=this.b.p;c?(g=c.d.kb(),h=c.d.jb(),k=c.d.K,u=c.d.L,m=c.d.R,p=c.d.Q):b&&(g=b.kb(),h=b.jb(),k=b.K,u=b.L,m=b.R,p=b.Q);var q=this.b.Th,
B,r,v,E,G=0,ha=1,V,t,Q=this.b.q,L=this.b.p,Ca=Q/2,Da=L/2,F=b?b.Vi:this.Vi,C=b?b.Wi:this.Wi,H=0,N=0,D=0,x=0,K=Q,na=Q,I=L,pa=L,ia=v=0;E=c?c.d.jb():0;if(c){B=0;for(r=e.length;B<r;B++)v+=a.Oo(e[B].fa),ia+=a.Po(e[B].fa);x=c.Ba;H=b.pb(x.left,x.top,!0);D=b.pb(x.left,x.top,!1);K=b.pb(x.right,x.bottom,!0);I=b.pb(x.right,x.bottom,!1);0!==E&&(B=b.pb(x.right,x.top,!0),r=b.pb(x.right,x.top,!1),N=b.pb(x.left,x.bottom,!0),x=b.pb(x.left,x.bottom,!1),E=Math.min(H,K,B,N),K=Math.max(H,K,B,N),H=E,E=Math.min(D,I,r,x),
I=Math.max(D,I,r,x),D=E);H-=v;D-=ia;K+=v;I+=ia;C.left=H/Q;C.top=1-D/L;C.right=K/Q;C.bottom=1-I/L;N=H=M(H);x=D=M(D);na=K=sa(K);pa=I=sa(I);N-=v;x-=ia;na+=v;pa+=ia;0>H&&(H=0);0>D&&(D=0);K>Q&&(K=Q);I>L&&(I=L);0>N&&(N=0);0>x&&(x=0);na>Q&&(na=Q);pa>L&&(pa=L);F.left=H/Q;F.top=1-D/L;F.right=K/Q;F.bottom=1-I/L}else F.left=C.left=0,F.top=C.top=0,F.right=C.right=1,F.bottom=C.bottom=1;ia=c&&(a.Gf(e[0].fa)||0!==v||0!==ia||1!==c.opacity||c.type.xa.ml)||b&&!c&&1!==b.opacity;a.Ul();if(ia){q[G]||(q[G]=a.hb(Q,L,this.b.ea));
if(q[G].td!==Q||q[G].sd!==L)a.deleteTexture(q[G]),q[G]=a.hb(Q,L,this.b.ea);a.Oa(0);a.sb(q[G]);t=pa-x;a.clearRect(N,L-x-t,na-N,t);c?c.Cb(a):(a.tb(this.b.ha),a.Jf(b.opacity),a.fc(),a.translate(-Ca,-Da),a.Nb(),a.Sd(H,I,K,I,K,D,H,D,F));C.left=C.top=0;C.right=C.bottom=1;c&&(E=F.top,F.top=F.bottom,F.bottom=E);G=1;ha=0}a.Jf(1);v=e.length-1;var Qa=a.Ri(e[v].fa)||!b&&!c&&!this.b.ab;B=E=0;for(r=e.length;B<r;B++){q[G]||(q[G]=a.hb(Q,L,this.b.ea));if(q[G].td!==Q||q[G].sd!==L)a.deleteTexture(q[G]),q[G]=a.hb(Q,
L,this.b.ea);a.Oa(e[B].fa);E=e[B].index;a.Pg(e[B].fa)&&(this.b.J=!0);0!=B||ia?(a.ze(f,1/Q,1/L,C.left,C.top,C.right,C.bottom,g,h,k,u,(k+m)/2,(u+p)/2,this.b.ob.aa,c?c.W[E]:b?b.W[E]:this.W[E]),a.tb(null),B!==v||Qa?(a.sb(q[G]),t=pa-x,V=L-x-t,a.clearRect(N,V,na-N,t)):(c?a.kd(c.Ga,c.Ea):b&&a.kd(b.Ga,b.Ea),a.sb(f)),a.tb(q[ha]),a.fc(),a.translate(-Ca,-Da),a.Nb(),a.Sd(H,I,K,I,K,D,H,D,F),B!==v||Qa||a.tb(null)):(a.sb(q[G]),t=pa-x,V=L-x-t,a.clearRect(N,V,na-N,t),c?(c.ra&&c.ra.qa?(V=c.ra.qa,ha=1/V.width,V=1/V.height):
(ha=1/c.width,V=1/c.height),a.ze(f,ha,V,C.left,C.top,C.right,C.bottom,g,h,k,u,(k+m)/2,(u+p)/2,this.b.ob.aa,c.W[E]),c.Cb(a)):(a.ze(f,1/Q,1/L,0,0,1,1,g,h,k,u,(k+m)/2,(u+p)/2,this.b.ob.aa,b?b.W[E]:this.W[E]),a.tb(b?this.b.ha:this.b.da),a.fc(),a.translate(-Ca,-Da),a.Nb(),a.Sd(H,I,K,I,K,D,H,D,F)),C.left=C.top=0,C.right=C.bottom=1,c&&!Qa&&(E=I,I=D,D=E));G=0===G?1:0;ha=0===G?1:0}Qa&&(a.Oa(0),c?a.kd(c.Ga,c.Ea):b?a.kd(b.Ga,b.Ea):this.b.ab||(a.Td(this.b.width,this.b.height),Ca=this.b.width/2,Da=this.b.height/
2,D=H=0,K=this.b.width,I=this.b.height),a.sb(f),a.tb(q[ha]),a.fc(),a.translate(-Ca,-Da),a.Nb(),c&&1===e.length&&!ia?a.Sd(H,D,K,D,K,I,H,I,F):a.Sd(H,I,K,I,K,D,H,D,F),a.tb(null))};h.prototype.pg=function(a){var b,c;b=0;for(c=this.u.length;b<c;b++)if(this.u[b].F===a)return this.u[b];return null};h.prototype.hc=function(){var a,b,c,f={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.i,w:this.width,h:this.height,fv:this.he,persist:this.jd,fx:[],layers:{}};a=0;for(b=this.r.length;a<b;a++)c=this.r[a],
f.fx.push({name:c.name,active:c.Za,params:this.W[c.index]});a=0;for(b=this.u.length;a<b;a++)c=this.u[a],f.layers[c.F.toString()]=c.hc();return f};h.prototype.ed=function(a){var b,c,f,e;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.i=a.a;this.width=a.w;this.height=a.h;this.jd=a.persist;"undefined"!==typeof a.fv&&(this.he=a.fv);var g=a.fx;b=0;for(c=g.length;b<c;b++)if(f=this.Vh(g[b].name))f.Za=g[b].active,this.W[f.index]=g[b].params;this.Mb();b=a.layers;for(e in b)b.hasOwnProperty(e)&&(a=
this.pg(parseInt(e,10)))&&a.ed(b[e])};xb=h;p.prototype.Mb=function(){P(this.H);this.Gc=!0;var a,b,c;a=0;for(b=this.r.length;a<b;a++)c=this.r[a],c.Za&&(this.H.push(c),c.Ib||(this.Gc=!1))};p.prototype.Vh=function(a){var b,c,f;b=0;for(c=this.r.length;b<c;b++)if(f=this.r[b],f.name===a)return f;return null};p.prototype.rn=function(){var a,b,c,f,e,g;b=a=0;for(c=this.bb.length;a<c;a++){f=this.bb[a];e=this.b.e[f[1]];g=this.b.oj(e);e=!0;if(!g||this.na.he){f=this.b.ud(f,this,!0);if(!f)continue;r.push(f);f.type.global&&
(e=!1,this.Ue.push(f.uid))}e&&(this.bb[b]=this.bb[a],b++)}this.bb.length=b;this.b.Aa();!this.b.k&&this.r.length&&(this.Ca=this.Rn);this.Re=ab(this.Ca);this.b.g&&bb(this,this.Ca,this.b.g);this.Kb=!0};p.prototype.xe=function(a,b){var c=Aa(this.c,a);0>c||(b&&this.eb&&a.Na&&a.Na.right>=a.Na.left&&(a.za(),this.ya.update(a,a.Na,null),a.Na.set(0,0,-1,-1)),c===this.c.length-1?this.c.pop():(wa(this.c,c),this.Kf(c)),this.Kb=!0)};p.prototype.Me=function(a,b){a.Ob=this.c.length;this.c.push(a);b&&this.eb&&a.Na&&
a.pa();this.Kb=!0};p.prototype.Up=function(a){this.c.unshift(a);this.Kf(0)};p.prototype.Ep=function(a,b,c){var f=a.Zb();b=b.Zb();wa(this.c,f);f<b&&b--;c&&b++;b===this.c.length?this.c.push(a):this.c.splice(b,0,a);this.Kf(f<b?f:b)};p.prototype.Kf=function(a){-1===this.Mc?this.Mc=a:a<this.Mc&&(this.Mc=a);this.Kb=this.Vd=!0};p.prototype.rj=function(){if(this.Vd){-1===this.Mc&&(this.Mc=0);var a,b,c;if(this.eb)for(a=this.Mc,b=this.c.length;a<b;++a)c=this.c[a],c.Ob=a,this.ya.Bp(c.Na);else for(a=this.Mc,
b=this.c.length;a<b;++a)this.c[a].Ob=a;this.Vd=!1;this.Mc=-1}};p.prototype.kb=function(a){return this.Mo()*(this.b.ab||a?this.b.Ne:1)};p.prototype.Mo=function(){return(this.scale*this.na.scale-1)*this.Nc+1};p.prototype.jb=function(){return this.tc?0:Ha(this.na.i+this.i)};var b=[],e=[],c=[];p.prototype.$h=function(){this.rj();this.ya.Ml(this.K,this.L,this.R,this.Q,c);if(!c.length)return q();if(1===c.length){var a=q();ya(a,c[0]);P(c);return a}for(var b=!0;1<c.length;){for(var a=c,g=void 0,f=void 0,
h=void 0,n=void 0,m=void 0,g=0,f=a.length;g<f-1;g+=2){var h=a[g],n=a[g+1],m=q(),k=h,u=n,y=m,p=0,r=0,B=0,Y=k.length,fa=u.length,E=void 0,G=void 0;for(y.length=Y+fa;p<Y&&r<fa;++B)E=k[p],G=u[r],E.Ob<G.Ob?(y[B]=E,++p):(y[B]=G,++r);for(;p<Y;++p,++B)y[B]=k[p];for(;r<fa;++r,++B)y[B]=u[r];b||(v(h),v(n));e.push(m)}1===f%2&&(b?(h=q(),ya(h,a[f-1]),e.push(h)):e.push(a[f-1]));ya(a,e);P(e);b=!1}a=c[0];P(c);return a};p.prototype.wd=function(a){this.ec=this.mg||1!==this.opacity||0!==this.Ca;var b=this.b.canvas,c=
a,f=!1;this.ec&&(this.b.yg||(this.b.yg=document.createElement("canvas"),b=this.b.yg,b.width=this.b.q,b.height=this.b.p,this.b.Pk=b.getContext("2d"),f=!0),b=this.b.yg,c=this.b.Pk,b.width!==this.b.q&&(b.width=this.b.q,f=!0),b.height!==this.b.p&&(b.height=this.b.p,f=!0),f&&this.b.Tg(c,this.b.ea),this.Lb&&c.clearRect(0,0,this.b.q,this.b.p));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.Lb||(c.fillStyle="rgb("+this.Ab[0]+","+this.Ab[1]+","+this.Ab[2]+")",c.fillRect(0,0,this.b.q,this.b.p));
c.save();this.tc=!0;var f=this.Ha(0,0,!0,!0),e=this.Ha(0,0,!1,!0);this.tc=!1;this.b.Rd&&(f=Math.round(f),e=Math.round(e));this.Sg(f,e,c);var g=this.kb();c.scale(g,g);c.translate(-f,-e);this.eb?(this.ta.left=this.ya.Ja(this.K),this.ta.top=this.ya.Ka(this.L),this.ta.right=this.ya.Ja(this.R),this.ta.bottom=this.ya.Ka(this.Q),this.Kb||!this.ta.We(this.qe)?(v(this.Ac),f=this.$h(),this.Kb=!1,this.qe.Se(this.ta)):f=this.Ac):f=this.c;for(var h,k=null,e=0,g=f.length;e<g;++e)h=f[e],h!==k&&(this.Mn(h,c),k=h);
this.eb&&(this.Ac=f);c.restore();this.ec&&(a.globalCompositeOperation=this.Re,a.globalAlpha=this.opacity,a.drawImage(b,0,0))};p.prototype.Mn=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.za();var c=a.Ba;c.right<this.K||c.bottom<this.L||c.left>this.R||c.top>this.Q||(b.globalCompositeOperation=a.Re,a.wd(b))}};p.prototype.kh=function(){this.tc=!0;var a=this.Ha(0,0,!0,!0),b=this.Ha(0,0,!1,!0);this.tc=!1;this.b.Rd&&(a=Math.round(a),b=Math.round(b));this.Sg(a,b,null)};p.prototype.Sg=function(a,
b,c){var f=this.kb();this.K=a;this.L=b;this.R=a+1/f*this.b.q;this.Q=b+1/f*this.b.p;this.K>this.R&&(a=this.K,this.K=this.R,this.R=a);this.L>this.Q&&(a=this.L,this.L=this.Q,this.Q=a);a=this.jb();0!==a&&(c&&(c.translate(this.b.q/2,this.b.p/2),c.rotate(-a),c.translate(this.b.q/-2,this.b.p/-2)),this.Jc.set(this.K,this.L,this.R,this.Q),this.Jc.offset((this.K+this.R)/-2,(this.L+this.Q)/-2),this.mm.$l(this.Jc,a),this.mm.Uj(this.Jc),this.Jc.offset((this.K+this.R)/2,(this.L+this.Q)/2),this.K=this.Jc.left,this.L=
this.Jc.top,this.R=this.Jc.right,this.Q=this.Jc.bottom)};p.prototype.ee=function(a){if(this.ec=this.mg){this.b.ha||(this.b.ha=a.hb(this.b.q,this.b.p,this.b.ea));if(this.b.ha.td!==this.b.q||this.b.ha.sd!==this.b.p)a.deleteTexture(this.b.ha),this.b.ha=a.hb(this.b.q,this.b.p,this.b.ea);a.sb(this.b.ha)}this.tc=!0;var b=this.Ha(0,0,!0,!0),c=this.Ha(0,0,!1,!0);this.tc=!1;this.b.Rd&&(b=Math.round(b),c=Math.round(c));this.Sg(b,c,null);b=this.kb();a.fc();a.scale(b,b);a.$i(-this.jb());a.translate((this.K+this.R)/
-2,(this.L+this.Q)/-2);a.Nb();this.eb?(this.ta.left=this.ya.Ja(this.K),this.ta.top=this.ya.Ka(this.L),this.ta.right=this.ya.Ja(this.R),this.ta.bottom=this.ya.Ka(this.Q),this.Kb||!this.ta.We(this.qe)?(v(this.Ac),b=this.$h(),this.Kb=!1,this.qe.Se(this.ta)):b=this.Ac):b=this.c;for(var f,e=null,c=b.length-1;0<=c;--c)f=b[c],f!==e&&(this.On(b[c],a),e=f);this.eb&&(this.Ac=b);this.Lb||(this.Eh=this.b.yd++,a.Ug(this.Eh),a.Vl(1,1,1),a.nk(),a.Zp())};p.prototype.Cb=function(a){var b=0,c=0;if(this.ec=this.mg||
1!==this.opacity||0<this.H.length||0!==this.Ca){this.b.ha||(this.b.ha=a.hb(this.b.q,this.b.p,this.b.ea));if(this.b.ha.td!==this.b.q||this.b.ha.sd!==this.b.p)a.deleteTexture(this.b.ha),this.b.ha=a.hb(this.b.q,this.b.p,this.b.ea);a.sb(this.b.ha);this.Lb&&a.clear(0,0,0,0)}this.Lb||(this.b.M?(a.Ug(this.Eh),a.Vl(this.Ab[0]/255,this.Ab[1]/255,this.Ab[2]/255),a.nk(),a.jq()):a.clear(this.Ab[0]/255,this.Ab[1]/255,this.Ab[2]/255,1));this.tc=!0;var f=this.Ha(0,0,!0,!0),b=this.Ha(0,0,!1,!0);this.tc=!1;this.b.Rd&&
(f=Math.round(f),b=Math.round(b));this.Sg(f,b,null);f=this.kb();a.fc();a.scale(f,f);a.$i(-this.jb());a.translate((this.K+this.R)/-2,(this.L+this.Q)/-2);a.Nb();this.eb?(this.ta.left=this.ya.Ja(this.K),this.ta.top=this.ya.Ka(this.L),this.ta.right=this.ya.Ja(this.R),this.ta.bottom=this.ya.Ka(this.Q),this.Kb||!this.ta.We(this.qe)?(v(this.Ac),b=this.$h(),this.Kb=!1,this.qe.Se(this.ta)):b=this.Ac):b=this.c;var e,g,h=null,c=0;for(e=b.length;c<e;++c)g=b[c],g!==h&&(this.Nn(b[c],a),h=g);this.eb&&(this.Ac=b);
this.ec&&(b=this.H.length?this.H[0].fa:0,c=this.H.length?this.H[0].index:0,0===this.H.length||1===this.H.length&&!a.Ri(b)&&1===this.opacity?(1===this.H.length?(a.Oa(b),a.ze(this.na.cf(),1/this.b.q,1/this.b.p,0,0,1,1,f,this.jb(),this.K,this.L,(this.K+this.R)/2,(this.L+this.Q)/2,this.b.ob.aa,this.W[c]),a.Pg(b)&&(this.b.J=!0)):a.Oa(0),a.sb(this.na.cf()),a.Jf(this.opacity),a.tb(this.b.ha),a.kd(this.Ga,this.Ea),a.fc(),a.Nb(),f=this.b.q/2,b=this.b.p/2,a.If(-f,b,f,b,f,-b,-f,-b),a.tb(null)):this.na.Xi(a,
this,null,this.na.cf()))};p.prototype.Nn=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.za();var c=a.Ba;c.right<this.K||c.bottom<this.L||c.left>this.R||c.top>this.Q||(b.Ug(a.yd),a.xm?this.Pn(a,b):(b.Oa(0),b.kd(a.Ga,a.Ea),a.Cb(b)))}};p.prototype.On=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.za();var c=a.Ba;c.right<this.K||c.bottom<this.L||c.left>this.R||c.top>this.Q||(a.yd=this.b.yd++,0===a.Ca&&1===a.opacity&&a.Gc&&a.ee&&(b.Ug(a.yd),a.ee(b)))}};p.prototype.Pn=function(a,b){var c=
a.H[0].fa,f=a.H[0].index,e=this.kb();if(1!==a.H.length||b.Ri(c)||b.Wp(c)||(a.i||a.d.jb())&&b.Gf(c)||1!==a.opacity||a.type.xa.ml)this.na.Xi(b,this,a,this.ec?this.b.ha:this.na.cf()),b.fc(),b.scale(e,e),b.$i(-this.jb()),b.translate((this.K+this.R)/-2,(this.L+this.Q)/-2),b.Nb();else{b.Oa(c);b.kd(a.Ga,a.Ea);b.Pg(c)&&(this.b.J=!0);var g=0,h=0,k=0,u=0;b.Gf(c)&&(u=a.Ba,g=this.pb(u.left,u.top,!0),h=this.pb(u.left,u.top,!1),k=this.pb(u.right,u.bottom,!0),u=this.pb(u.right,u.bottom,!1),g=g/windowWidth,h=1-h/
windowHeight,k=k/windowWidth,u=1-u/windowHeight);var m;a.ra&&a.ra.qa?(m=a.ra.qa,c=1/m.width,m=1/m.height):(c=1/a.width,m=1/a.height);b.ze(this.ec?this.b.ha:this.na.cf(),c,m,g,h,k,u,e,this.jb(),this.K,this.L,(this.K+this.R)/2,(this.L+this.Q)/2,this.b.ob.aa,a.W[f]);a.Cb(b)}};p.prototype.Ha=function(a,b,c,f){var e=this.b.devicePixelRatio;this.b.ke&&(a*=e,b*=e);var e=this.b.Bl,g=this.b.Cl,e=(this.na.scrollX-e)*this.Dc+e,g=(this.na.scrollY-g)*this.Ec+g,h=e,k=g,u=1/this.kb(!f);f?(h-=this.b.q*u/2,k-=this.b.p*
u/2):(h-=this.b.width*u/2,k-=this.b.height*u/2);h+=a*u;k+=b*u;b=this.jb();0!==b&&(h-=e,k-=g,a=Math.cos(b),b=Math.sin(b),f=h*a-k*b,k=k*a+h*b,h=f+e,k+=g);return c?h:k};p.prototype.pb=function(a,b,c){var f=this.b.Bl,e=this.b.Cl,f=(this.na.scrollX-f)*this.Dc+f,g=(this.na.scrollY-e)*this.Ec+e,e=f,h=g,k=this.jb();if(0!==k){a-=f;b-=g;var u=Math.cos(-k),k=Math.sin(-k),m=a*u-b*k;b=b*u+a*k;a=m+f;b+=g}f=1/this.kb(!1);e-=this.b.q*f/2;h-=this.b.p*f/2;e=(a-e)/f;return c?e:(b-h)/f};p.prototype.hc=function(){var a,
b,c,f={s:this.scale,a:this.i,vl:this.K,vt:this.L,vr:this.R,vb:this.Q,v:this.visible,bc:this.Ab,t:this.Lb,px:this.Dc,py:this.Ec,o:this.opacity,zr:this.Nc,fx:[],cg:this.Ue,instances:[]};a=0;for(b=this.r.length;a<b;a++)c=this.r[a],f.fx.push({name:c.name,active:c.Za,params:this.W[c.index]});return f};p.prototype.ed=function(a){var b,c,f;this.scale=a.s;this.i=a.a;this.K=a.vl;this.L=a.vt;this.R=a.vr;this.Q=a.vb;this.visible=a.v;this.Ab=a.bc;this.Lb=a.t;this.Dc=a.px;this.Ec=a.py;this.opacity=a.o;this.Nc=
a.zr;this.Ue=a.cg||[];ya(this.bb,this.hm);var e=new ba;b=0;for(f=this.Ue.length;b<f;++b)e.add(this.Ue[b]);c=b=0;for(f=this.bb.length;b<f;++b)e.contains(this.bb[b][2])||(this.bb[c]=this.bb[b],++c);xa(this.bb,c);c=a.fx;b=0;for(f=c.length;b<f;b++)if(a=this.Vh(c[b].name))a.Za=c[b].active,this.W[a.index]=c[b].params;this.Mb();this.c.sort(m);this.Vd=!0};Lb=p})();
(function(){function h(a,b){var c,f=a.length;switch(f){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(c=0;c<f;c++)if(a[c]!==b[c])return!1;return!0}}function m(a,b){return a.index-b.index}function p(a){var b,c,f,e;2===a.length?a[0].index>a[1].index&&(b=a[0],a[0]=a[1],a[1]=b):2<a.length&&a.sort(m);a.length>=w.length&&(w.length=a.length+1);w[a.length]||(w[a.length]=[]);e=w[a.length];b=0;for(c=e.length;b<c;b++)if(f=e[b],h(a,f))return f;e.push(a);return a}
function q(a,b){this.b=a;this.om={};this.jk={};this.ei=!1;this.zk=new ba;this.Jh=[];this.qh=[];this.name=b[0];var c=b[1];this.Yc=[];var f,e;f=0;for(e=c.length;f<e;f++)this.Bk(c[f],null,this.Yc)}function v(a){this.type=a;this.c=[];this.D=[];this.Y=!0}function r(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.ca=[];this.ld=[];this.yk=this.gh=this.kj=this.ii=this.group=this.gm=!1;this.Da=[];this.yb=[];this.ub=[];this.ff="";this.ef=this.ii=this.group=!1;this.ag=null;c[1]&&(this.ff=c[1][1].toLowerCase(),
this.group=!0,this.ii=!!c[1][0],this.ag=[],this.ef=this.ii,this.b.ae.push(this),this.b.rg[this.ff]=this);this.Hb=c[2];this.F=c[4];this.group||(this.b.Tj[this.F.toString()]=this);var f=c[5];a=0;for(b=f.length;a<b;a++){var e=new Mb(this,f[a]);e.index=a;this.Da.push(e);this.Hj(e.type)}f=c[6];a=0;for(b=f.length;a<b;a++)e=new Nb(this,f[a]),e.index=a,this.yb.push(e);if(8===c.length)for(c=c[7],a=0,b=c.length;a<b;a++)this.sheet.Bk(c[a],this,this.ub);this.vg=!1;this.Da.length&&(this.vg=null==this.Da[0].type&&
this.Da[0].ua==Z.prototype.m.Em)}function g(a,b){var c,f,e;if(a&&(-1===b.indexOf(a)&&b.push(a),a.nb))for(c=0,f=a.Ra.length;c<f;c++)e=a.Ra[c],a!==e&&-1===b.indexOf(e)&&b.push(e)}function b(a,b){this.$a=a;this.sheet=a.sheet;this.b=a.b;this.C=[];this.X=[];this.S={};this.index=-1;this.Ke=!1;this.ua=this.b.Oc(b[1]);this.trigger=0<b[3];this.ik=2===b[3];this.li=b[5];this.xp=b[6];this.F=b[7];this.b.Vc[this.F.toString()]=this;-1===b[0]?(this.type=null,this.la=this.cj,this.rd=null,this.Bb=-1):(this.type=this.b.e[b[0]],
this.la=this.xp?this.dq:this.bj,b[2]?(this.rd=this.type.og(b[2]),this.Bb=this.type.Uh(b[2])):(this.rd=null,this.Bb=-1),this.$a.parent&&this.$a.parent.Vg());this.ik&&(this.la=this.fq);if(10===b.length){var c,f,e=b[9];c=0;for(f=e.length;c<f;c++){var d=new Ob(this,e[c]);this.C.push(d)}this.X.length=e.length}}function e(a,b){this.$a=a;this.sheet=a.sheet;this.b=a.b;this.C=[];this.X=[];this.S={};this.index=-1;this.Ke=!1;this.ua=this.b.Oc(b[1]);-1===b[0]?(this.type=null,this.la=this.cj,this.rd=null,this.Bb=
-1):(this.type=this.b.e[b[0]],this.la=this.bj,b[2]?(this.rd=this.type.og(b[2]),this.Bb=this.type.Uh(b[2])):(this.rd=null,this.Bb=-1));this.F=b[3];this.b.Rc[this.F.toString()]=this;if(6===b.length){var c,f,e=b[5];c=0;for(f=e.length;c<f;c++){var d=new Ob(this,e[c]);this.C.push(d)}this.X.length=e.length}}function c(){A++;n.length===A&&n.push(new Pb);return n[A]}function a(a,b){this.rb=a;this.$a=a.$a;this.sheet=a.sheet;this.b=a.b;this.type=b[0];this.Yb=null;this.Hc=0;this.get=null;this.ak=0;this.na=null;
this.key=0;this.object=null;this.index=0;this.Uf=this.Ud=this.Uf=this.Ud=this.lk=this.Bd=this.Vf=null;this.xb=!1;var c,f,e;switch(b[0]){case 0:case 7:this.Yb=new T(this,b[1]);this.Hc=0;this.get=this.Vo;break;case 1:this.Yb=new T(this,b[1]);this.Hc=0;this.get=this.Wo;break;case 5:this.Yb=new T(this,b[1]);this.Hc=0;this.get=this.$o;break;case 3:case 8:this.ak=b[1];this.get=this.To;break;case 6:this.na=this.b.Ai[b[1]];this.get=this.bp;break;case 9:this.key=b[1];this.get=this.Zo;break;case 4:this.object=
this.b.e[b[1]];this.get=this.cp;this.$a.Hj(this.object);this.rb instanceof Nb?this.$a.Vg():this.$a.parent&&this.$a.parent.Vg();break;case 10:this.index=b[1];a.type&&a.type.G?(this.get=this.Xo,this.xb=!0):this.get=this.Yo;break;case 11:this.Vf=b[1];this.Bd=null;this.get=this.Uo;break;case 2:case 12:this.lk=b[1];this.get=this.So;break;case 13:for(this.get=this.dp,this.Ud=[],this.Uf=[],c=1,f=b.length;c<f;c++)e=new Ob(this.rb,b[c]),this.Ud.push(e),this.Uf.push(0)}}function d(a,b,c){this.sheet=a;this.parent=
b;this.b=a.b;this.ca=[];this.name=c[1];this.hi=c[3];this.pf=!!c[4];this.ug=!!c[5];this.F=c[6];this.b.He[this.F.toString()]=this;this.data=this.hi;this.parent?(this.Pd=this.pf||this.ug?-1:this.b.nq++,this.b.bn.push(this)):(this.Pd=-1,this.b.an.push(this))}function l(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.ca=[];this.hf=null;this.jp=c[1];this.Za=!0}function f(){this.im=[];this.reset(null)}var w=[];q.prototype.toString=function(){return this.name};q.prototype.Bk=function(a,b,c){switch(a[0]){case 0:a=
new Qb(this,b,a);if(a.Hb)for(c.push(a),c=0,b=a.Da.length;c<b;c++)a.Da[c].trigger&&this.Ck(a,c);else a.Jk()?this.Ck(a,0):c.push(a);break;case 1:a=new Ib(this,b,a);c.push(a);break;case 2:a=new Rb(this,b,a),c.push(a)}};q.prototype.ba=function(){var a,b;a=0;for(b=this.Yc.length;a<b;a++)this.Yc[a].ba(a<b-1&&this.Yc[a+1].vg)};q.prototype.pj=function(){P(this.Jh);P(this.qh);this.Gj(this);P(this.qh)};q.prototype.Gj=function(a){var b,c,f,e,d=a.Jh,g=a.qh,h=this.zk.nd();b=0;for(c=h.length;b<c;++b)f=h[b],e=f.hf,
!f.Za||a===e||-1<g.indexOf(e)||(g.push(e),e.Gj(a),d.push(e))};q.prototype.la=function(a){this.b.js||(this.ei=!0,a||(this.b.ri=!0));var b,c;b=0;for(c=this.Yc.length;b<c;b++){var f=this.Yc[b];f.la();this.b.Dh(f.ca);this.b.ad&&this.b.Aa()}a||(this.b.ri=!1)};q.prototype.Ck=function(a,b){a.Hb||this.b.ih.push(a);var c,f,e=a.Da[b],d;e.type?d=e.type.name:d="system";var g=(c=e.ik)?this.jk:this.om;g[d]||(g[d]=[]);d=g[d];g=e.ua;if(c){if(e.C.length&&(e=e.C[0],1===e.type&&2===e.Yb.type)){e=e.Yb.value.toLowerCase();
c=0;for(f=d.length;c<f;c++)if(d[c].method==g){c=d[c].Ye;c[e]?c[e].push([a,b]):c[e]=[[a,b]];return}c={};c[e]=[[a,b]];d.push({method:g,Ye:c})}}else{c=0;for(f=d.length;c<f;c++)if(d[c].method==g){d[c].Ye.push([a,b]);return}ac&&g===ac.prototype.m.Zd?d.unshift({method:g,Ye:[[a,b]]}):d.push({method:g,Ye:[[a,b]]})}};yb=q;v.prototype.di=function(){return this.Y?this.type.c.length:this.c.length};v.prototype.Db=function(){return this.Y?this.type.c:this.c};v.prototype.Ff=function(a){a&&(a.b.Ma().ib.Hb?(this.Y&&
(P(this.c),ya(this.D,a.type.c),this.Y=!1),a=this.D.indexOf(a),-1!==a&&(this.c.push(this.D[a]),this.D.splice(a,1))):(this.Y=!1,P(this.c),this.c[0]=a))};hb=v;window._c2hh_="8D7C2D39A47E2AEBC1F94D10DFC07BB80568C8E6";r.prototype.ba=function(a){var b,c=this.parent;if(this.group)for(this.gh=!0;c;){if(!c.group){this.gh=!1;break}c=c.parent}this.kj=!this.Jk()&&(!this.parent||this.parent.group&&this.parent.gh);this.yk=!!a;this.ld=this.ca.slice(0);for(c=this.parent;c;){a=0;for(b=c.ca.length;a<b;a++)this.$m(c.ca[a]);
c=c.parent}this.ca=p(this.ca);this.ld=p(this.ld);a=0;for(b=this.Da.length;a<b;a++)this.Da[a].ba();a=0;for(b=this.yb.length;a<b;a++)this.yb[a].ba();a=0;for(b=this.ub.length;a<b;a++)this.ub[a].ba(a<b-1&&this.ub[a+1].vg)};r.prototype.iq=function(a){if(this.ef!==!!a){this.ef=!!a;var b;a=0;for(b=this.ag.length;a<b;++a)this.ag[a].vm();0<b&&this.b.I.Ad&&this.b.I.Ad.pj()}};r.prototype.Hj=function(a){g(a,this.ca)};r.prototype.$m=function(a){g(a,this.ld)};r.prototype.Vg=function(){this.gm=!0;this.parent&&this.parent.Vg()};
r.prototype.Jk=function(){return this.Da.length?this.Da[0].trigger:!1};r.prototype.la=function(){var a,b,c=!1,f=this.b,e=this.b.Ma();e.ib=this;var d=this.Da;this.vg||(e.Kh=!1);if(this.Hb){0===d.length&&(c=!0);e.Qa=0;for(a=d.length;e.Qa<a;e.Qa++)b=d[e.Qa],b.trigger||(b=b.la())&&(c=!0);(e.Ld=c)&&this.aj()}else{e.Qa=0;for(a=d.length;e.Qa<a;e.Qa++)if(b=d[e.Qa].la(),!b){e.Ld=!1;this.kj&&f.ad&&f.Aa();return}e.Ld=!0;this.aj()}this.Tn(e)};r.prototype.Tn=function(a){a.Ld&&this.yk&&(a.Kh=!0);this.kj&&this.b.ad&&
this.b.Aa()};r.prototype.bq=function(a){this.b.Ma().ib=this;this.Da[a].la()&&(this.aj(),this.b.Ma().Ld=!0)};r.prototype.aj=function(){var a=this.b.Ma(),b;a.fb=0;for(b=this.yb.length;a.fb<b;a.fb++)if(this.yb[a.fb].la())return;this.Ql()};r.prototype.$p=function(){var a=this.b.Ma(),b;for(b=this.yb.length;a.fb<b;a.fb++)if(this.yb[a.fb].la())return;this.Ql()};r.prototype.Ql=function(){if(this.ub.length){var a,b,c,f,e=this.ub.length-1;this.b.Ti(this);if(this.gm)for(a=0,b=this.ub.length;a<b;a++)c=this.ub[a],
(f=!this.gh||!this.group&&a<e)&&this.b.Si(c.ca),c.la(),f?this.b.ve(c.ca):this.b.Dh(c.ca);else for(a=0,b=this.ub.length;a<b;a++)this.ub[a].la();this.b.Gl()}};r.prototype.cq=function(){var a=this.b.Ma();a.ib=this;var b=!1,c;a.Qa=0;for(c=this.Da.length;a.Qa<c;a.Qa++)if(this.Da[a.Qa].la())b=!0;else if(!this.Hb)return!1;return this.Hb?b:!0};r.prototype.rp=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.Da[b].type===a.type)return!1;return!0};Qb=r;b.prototype.ba=function(){var a,b,c;
a=0;for(b=this.C.length;a<b;a++)c=this.C[a],c.ba(),c.xb&&(this.Ke=!0)};b.prototype.fq=function(){return!0};b.prototype.cj=function(){var a,b;a=0;for(b=this.C.length;a<b;a++)this.X[a]=this.C[a].get();return Pa(this.ua.apply(this.b.ic,this.X),this.li)};b.prototype.dq=function(){var a,b;a=0;for(b=this.C.length;a<b;a++)this.X[a]=this.C[a].get();a=this.ua.apply(this.rd?this.rd:this.type,this.X);this.type.Sc();return a};b.prototype.bj=function(){var a,b,c,f,e,d,g,h,n=this.type,l=n.N(),m=this.$a.Hb&&!this.trigger;
b=0;var p=n.nb,q=n.G,w=n.vc,r=this.Bb,A=-1<r,v=this.Ke,F=this.C,C=this.X,H=this.li,N=this.ua,D;if(v)for(b=0,e=F.length;b<e;++b)d=F[b],d.xb||(C[b]=d.get(0));else for(b=0,e=F.length;b<e;++b)C[b]=F[b].get(0);if(l.Y){P(l.c);P(l.D);D=n.c;a=0;for(f=D.length;a<f;++a){h=D[a];if(v)for(b=0,e=F.length;b<e;++b)d=F[b],d.xb&&(C[b]=d.get(a));A?(b=0,q&&(b=h.type.ge[w]),b=N.apply(h.A[r+b],C)):b=N.apply(h,C);(g=Pa(b,H))?l.c.push(h):m&&l.D.push(h)}n.finish&&n.finish(!0);l.Y=!1;n.Sc();return l.di()}c=0;D=(g=m&&!this.$a.rp(this))?
l.D:l.c;var x=!1;a=0;for(f=D.length;a<f;++a){h=D[a];if(v)for(b=0,e=F.length;b<e;++b)d=F[b],d.xb&&(C[b]=d.get(a));A?(b=0,q&&(b=h.type.ge[w]),b=N.apply(h.A[r+b],C)):b=N.apply(h,C);if(Pa(b,H))if(x=!0,g){if(l.c.push(h),p)for(b=0,e=h.siblings.length;b<e;b++)d=h.siblings[b],d.type.N().c.push(d)}else{D[c]=h;if(p)for(b=0,e=h.siblings.length;b<e;b++)d=h.siblings[b],d.type.N().c[c]=d;c++}else if(g){D[c]=h;if(p)for(b=0,e=h.siblings.length;b<e;b++)d=h.siblings[b],d.type.N().D[c]=d;c++}else if(m&&(l.D.push(h),
p))for(b=0,e=h.siblings.length;b<e;b++)d=h.siblings[b],d.type.N().D.push(d)}xa(D,c);if(p)for(q=n.Ra,a=0,f=q.length;a<f;a++)h=q[a].N(),g?xa(h.D,c):xa(h.c,c);c=x;if(g&&!x)for(a=0,f=l.c.length;a<f;a++){h=l.c[a];if(v)for(b=0,e=F.length;b<e;b++)d=F[b],d.xb&&(C[b]=d.get(a));b=A?N.apply(h.A[r],C):N.apply(h,C);if(Pa(b,H)){x=!0;break}}n.finish&&n.finish(c||m);return m?x:l.di()};Mb=b;e.prototype.ba=function(){var a,b,c;a=0;for(b=this.C.length;a<b;a++)c=this.C[a],c.ba(),c.xb&&(this.Ke=!0)};e.prototype.cj=function(){var a=
this.b,b,c,f=this.C,e=this.X;b=0;for(c=f.length;b<c;++b)e[b]=f[b].get();return this.ua.apply(a.ic,e)};e.prototype.bj=function(){var a=this.type,b=this.Bb,c=a.vc,f=this.Ke,e=this.C,d=this.X,g=this.ua,h=a.N().Db(),a=a.G,n=-1<b,l,m,p,q,w,r;if(f)for(m=0,q=e.length;m<q;++m)w=e[m],w.xb||(d[m]=w.get(0));else for(m=0,q=e.length;m<q;++m)d[m]=e[m].get(0);l=0;for(p=h.length;l<p;++l){r=h[l];if(f)for(m=0,q=e.length;m<q;++m)w=e[m],w.xb&&(d[m]=w.get(l));n?(m=0,a&&(m=r.type.ge[c]),g.apply(r.A[b+m],d)):g.apply(r,
d)}return!1};Nb=e;var n=[],A=-1;a.prototype.ba=function(){var a,b;if(11===this.type)this.Bd=this.b.sk(this.Vf,this.$a.parent);else if(13===this.type)for(a=0,b=this.Ud.length;a<b;a++)this.Ud[a].ba();this.Yb&&this.Yb.ba()};a.prototype.Dp=function(a){this.xb||!a||a.xa.Xg||(this.xb=!0)};a.prototype.Zl=function(){this.xb=!0};a.prototype.Vo=function(a){this.Hc=a||0;a=c();this.Yb.get(a);A--;return a.data};a.prototype.Wo=function(a){this.Hc=a||0;a=c();this.Yb.get(a);A--;return J(a.data)?a.data:""};a.prototype.cp=
function(){return this.object};a.prototype.To=function(){return this.ak};a.prototype.$o=function(a){this.Hc=a||0;a=c();this.Yb.get(a);A--;return a.ma()?this.b.bf(a.data):this.b.Zh(a.data)};a.prototype.bp=function(){return this.na};a.prototype.Zo=function(){return this.key};a.prototype.Yo=function(){return this.index};a.prototype.Xo=function(a){a=a||0;var b=this.rb.type,c=null,c=b.N(),f=c.Db();if(f.length)c=f[a%f.length].type;else if(c.D.length)c=c.D[a%c.D.length].type;else if(b.c.length)c=b.c[a%b.c.length].type;
else return 0;return this.index+c.jg[b.vc]};a.prototype.Uo=function(){return this.Bd};a.prototype.So=function(){return this.lk};a.prototype.dp=function(){var a,b;a=0;for(b=this.Ud.length;a<b;a++)this.Uf[a]=this.Ud[a].get();return this.Uf};Ob=a;d.prototype.ba=function(){this.ca=p(this.ca)};d.prototype.kq=function(a){var b=this.b.qk();this.parent&&!this.pf&&b?(this.Pd>=b.length&&(b.length=this.Pd+1),b[this.Pd]=a):this.data=a};d.prototype.Ro=function(){var a=this.b.qk();return!this.parent||this.pf||
!a||this.ug?this.data:this.Pd>=a.length||"undefined"===typeof a[this.Pd]?this.hi:a[this.Pd]};d.prototype.la=function(){!this.parent||this.pf||this.ug||this.kq(this.hi)};Ib=d;l.prototype.toString=function(){return"include:"+this.hf.toString()};l.prototype.ba=function(){this.hf=this.b.Mh[this.jp];this.sheet.zk.add(this);this.ca=p(this.ca);for(var a=this.parent;a;)a.group&&a.ag.push(this),a=a.parent;this.vm()};l.prototype.la=function(){this.parent&&this.b.Hf(this.b.e);this.hf.ei||this.hf.la(!0);this.parent&&
this.b.ve(this.b.e)};l.prototype.vm=function(){for(var a=this.parent;a;){if(a.group&&!a.ef){this.Za=!1;return}a=a.parent}this.Za=!0};Rb=l;f.prototype.reset=function(a){this.ib=a;this.fb=this.Qa=0;P(this.im);this.Kh=this.Ld=!1};Hb=f})();
(function(){function h(g,b){this.rb=g;this.b=g.b;this.type=b[0];this.get=[this.mo,this.io,this.vo,this.yo,this.Wn,this.wo,this.qo,this.eo,this.po,this.uo,this.Xn,this.to,this.fo,this.ro,this.no,this.oo,this.jo,this.ko,this.co,this.xo,this.so,this.lo,this.bo,this.ho][this.type];var e=null;this.Bc=this.C=this.X=this.ua=this.fh=this.second=this.first=this.value=null;this.Bb=-1;this.Eb=null;this.ym=-1;this.Bd=this.Vf=null;this.ye=!1;switch(this.type){case 0:case 1:case 2:this.value=b[1];break;case 3:this.first=
new T(g,b[1]);break;case 18:this.first=new T(g,b[1]);this.second=new T(g,b[2]);this.fh=new T(g,b[3]);break;case 19:this.ua=this.b.Oc(b[1]);this.ua!==Z.prototype.Zc.random&&this.ua!==Z.prototype.Zc.ln||this.rb.Zl();this.X=[];this.C=[];3===b.length?(e=b[2],this.X.length=e.length+1):this.X.length=1;break;case 20:this.Bc=this.b.e[b[1]];this.Bb=-1;this.ua=this.b.Oc(b[2]);this.ye=b[3];Tb.Function&&this.ua===Tb.Function.prototype.Zc.Lq&&this.rb.Zl();b[4]?this.Eb=new T(g,b[4]):this.Eb=null;this.X=[];this.C=
[];6===b.length?(e=b[5],this.X.length=e.length+1):this.X.length=1;break;case 21:this.Bc=this.b.e[b[1]];this.ye=b[2];b[3]?this.Eb=new T(g,b[3]):this.Eb=null;this.ym=b[4];break;case 22:this.Bc=this.b.e[b[1]];this.Bc.og(b[2]);this.Bb=this.Bc.Uh(b[2]);this.ua=this.b.Oc(b[3]);this.ye=b[4];b[5]?this.Eb=new T(g,b[5]):this.Eb=null;this.X=[];this.C=[];7===b.length?(e=b[6],this.X.length=e.length+1):this.X.length=1;break;case 23:this.Vf=b[1],this.Bd=null}this.rb.Dp(this.Bc);4<=this.type&&17>=this.type&&(this.first=
new T(g,b[1]),this.second=new T(g,b[2]));if(e){var c,a;c=0;for(a=e.length;c<a;c++)this.C.push(new T(g,e[c]))}}function m(){++r;v.length===r&&v.push(new Pb);return v[r]}function p(g,b,e){var c,a;c=0;for(a=g.length;c<a;++c)g[c].get(e),b[c+1]=e.data}function q(g,b){this.type=g||U.Yd;this.data=b||0;this.Qd=null;this.type==U.Yd&&(this.data=Math.floor(this.data))}h.prototype.ba=function(){23===this.type&&(this.Bd=this.rb.b.sk(this.Vf,this.rb.$a.parent));this.first&&this.first.ba();this.second&&this.second.ba();
this.fh&&this.fh.ba();this.Eb&&this.Eb.ba();if(this.C){var g,b;g=0;for(b=this.C.length;g<b;g++)this.C[g].ba()}};var v=[],r=-1;h.prototype.xo=function(g){var b=this.C,e=this.X;e[0]=g;g=m();p(b,e,g);--r;this.ua.apply(this.b.ic,e)};h.prototype.so=function(g){var b=this.Bc,e=this.X,c=this.C,a=this.Eb,d=this.ua,h=this.rb.Hc,f=b.N(),q=f.Db();if(!q.length)if(f.D.length)q=f.D;else{this.ye?g.Wa(""):g.O(0);return}e[0]=g;g.Qd=b;g=m();p(c,e,g);a&&(a.get(g),g.ma()&&(h=g.data,q=b.c));--r;b=q.length;if(h>=b||h<=
-b)h%=b;0>h&&(h+=b);d.apply(q[h],e)};h.prototype.bo=function(g){var b=this.Bc,e=this.X,c=this.C,a=this.Eb,d=this.Bb,h=this.ua,f=this.rb.Hc,q=b.N(),n=q.Db();if(!n.length)if(q.D.length)n=q.D;else{this.ye?g.Wa(""):g.O(0);return}e[0]=g;g.Qd=b;g=m();p(c,e,g);a&&(a.get(g),g.ma()&&(f=g.data,n=b.c));--r;c=n.length;if(f>=c||f<=-c)f%=c;0>f&&(f+=c);f=n[f];n=0;b.G&&(n=f.type.ge[b.vc]);h.apply(f.A[d+n],e)};h.prototype.lo=function(g){var b=this.Eb,e=this.Bc,c=this.ym,a=this.rb.Hc,d=e.N(),h=d.Db();if(!h.length)if(d.D.length)h=
d.D;else{this.ye?g.Wa(""):g.O(0);return}if(b){d=m();b.get(d);if(d.ma()){a=d.data;h=e.c;0!==h.length&&(a%=h.length,0>a&&(a+=h.length));a=e.Yh(a);e=a.ga[c];J(e)?g.Wa(e):g.n(e);--r;return}--r}b=h.length;if(a>=b||a<=-b)a%=b;0>a&&(a+=b);a=h[a];h=0;e.G&&(h=a.type.jg[e.vc]);e=a.ga[c+h];J(e)?g.Wa(e):g.n(e)};h.prototype.mo=function(g){g.type=U.Yd;g.data=this.value};h.prototype.io=function(g){g.type=U.Xd;g.data=this.value};h.prototype.vo=function(g){g.type=U.String;g.data=this.value};h.prototype.yo=function(g){this.first.get(g);
g.ma()&&(g.data=-g.data)};h.prototype.Wn=function(g){this.first.get(g);var b=m();this.second.get(b);g.ma()&&b.ma()&&(g.data+=b.data,b.le()&&g.se());--r};h.prototype.wo=function(g){this.first.get(g);var b=m();this.second.get(b);g.ma()&&b.ma()&&(g.data-=b.data,b.le()&&g.se());--r};h.prototype.qo=function(g){this.first.get(g);var b=m();this.second.get(b);g.ma()&&b.ma()&&(g.data*=b.data,b.le()&&g.se());--r};h.prototype.eo=function(g){this.first.get(g);var b=m();this.second.get(b);g.ma()&&b.ma()&&(g.data/=
b.data,g.se());--r};h.prototype.po=function(g){this.first.get(g);var b=m();this.second.get(b);g.ma()&&b.ma()&&(g.data%=b.data,b.le()&&g.se());--r};h.prototype.uo=function(g){this.first.get(g);var b=m();this.second.get(b);g.ma()&&b.ma()&&(g.data=Math.pow(g.data,b.data),b.le()&&g.se());--r};h.prototype.Xn=function(g){this.first.get(g);var b=m();this.second.get(b);b.ne()||g.ne()?this.Zn(g,b):this.Yn(g,b);--r};h.prototype.Zn=function(g,b){g.ne()&&b.ne()?this.ao(g,b):this.$n(g,b)};h.prototype.ao=function(g,
b){g.data+=b.data};h.prototype.$n=function(g,b){g.ne()?g.data+=(Math.round(1E10*b.data)/1E10).toString():g.Wa(g.data.toString()+b.data)};h.prototype.Yn=function(g,b){g.O(g.data&&b.data?1:0)};h.prototype.to=function(g){this.first.get(g);var b=m();this.second.get(b);g.ma()&&b.ma()&&(g.data||b.data?g.O(1):g.O(0));--r};h.prototype.co=function(g){this.first.get(g);g.data?this.second.get(g):this.fh.get(g)};h.prototype.fo=function(g){this.first.get(g);var b=m();this.second.get(b);g.O(g.data===b.data?1:0);
--r};h.prototype.ro=function(g){this.first.get(g);var b=m();this.second.get(b);g.O(g.data!==b.data?1:0);--r};h.prototype.no=function(g){this.first.get(g);var b=m();this.second.get(b);g.O(g.data<b.data?1:0);--r};h.prototype.oo=function(g){this.first.get(g);var b=m();this.second.get(b);g.O(g.data<=b.data?1:0);--r};h.prototype.jo=function(g){this.first.get(g);var b=m();this.second.get(b);g.O(g.data>b.data?1:0);--r};h.prototype.ko=function(g){this.first.get(g);var b=m();this.second.get(b);g.O(g.data>=
b.data?1:0);--r};h.prototype.ho=function(g){var b=this.Bd.Ro();ja(b)?g.n(b):g.Wa(b)};T=h;q.prototype.le=function(){return this.type===U.Xd};q.prototype.ma=function(){return this.type===U.Yd||this.type===U.Xd};q.prototype.ne=function(){return this.type===U.String};q.prototype.se=function(){this.le()||(this.ne()&&(this.data=parseFloat(this.data)),this.type=U.Xd)};q.prototype.O=function(g){this.type=U.Yd;this.data=Math.floor(g)};q.prototype.n=function(g){this.type=U.Xd;this.data=g};q.prototype.Wa=function(g){this.type=
U.String;this.data=g};q.prototype.lq=function(g){ja(g)?(this.type=U.Xd,this.data=g):J(g)?(this.type=U.String,this.data=g.toString()):(this.type=U.Yd,this.data=0)};Pb=q;U={Yd:0,Xd:1,String:2}})();function Z(h){this.b=h;this.Ya=[]}
Z.prototype.hc=function(){var h={},m,p,q,v,r,g,b,e;h.waits=[];var c=h.waits,a;m=0;for(p=this.Ya.length;m<p;m++){g=this.Ya[m];a={t:g.time,st:g.mq,s:g.dm,ev:g.Xe.F,sm:[],sols:{}};g.Xe.yb[g.fb]&&(a.act=g.Xe.yb[g.fb].F);q=0;for(v=g.ca.length;q<v;q++)a.sm.push(g.ca[q].F);for(r in g.Xa)if(g.Xa.hasOwnProperty(r)){b=this.b.e[parseInt(r,10)];e={sa:g.Xa[r].Rl,insts:[]};q=0;for(v=g.Xa[r].Gd.length;q<v;q++)e.insts.push(g.Xa[r].Gd[q].uid);a.sols[b.F.toString()]=e}c.push(a)}return h};
Z.prototype.ed=function(h){h=h.waits;var m,p,q,v,r,g,b,e,c,a,d;P(this.Ya);m=0;for(p=h.length;m<p;m++)if(g=h[m],e=this.b.Tj[g.ev.toString()]){c=-1;q=0;for(v=e.yb.length;q<v;q++)if(e.yb[q].F===g.act){c=q;break}if(-1!==c){b={Xa:{},ca:[],dk:!1};b.time=g.t;b.mq=g.st||"";b.dm=!!g.s;b.Xe=e;b.fb=c;q=0;for(v=g.sm.length;q<v;q++)(e=this.b.qg(g.sm[q]))&&b.ca.push(e);for(r in g.sols)if(g.sols.hasOwnProperty(r)&&(e=this.b.qg(parseInt(r,10)))){c=g.sols[r];a={Rl:c.sa,Gd:[]};q=0;for(v=c.insts.length;q<v;q++)(d=this.b.vk(c.insts[q]))&&
a.Gd.push(d);b.Xa[e.index.toString()]=a}this.Ya.push(b)}}};
(function(){function h(){}function m(){}function p(){}var q=Z.prototype;h.prototype.Sm=function(){return!0};h.prototype.Rm=function(){return!0};h.prototype.Em=function(){var g=this.b.Ma();return g.Kh?!1:!g.Ld};h.prototype.wj=function(){return!0};h.prototype.Lm=function(){return!0};h.prototype.oh=function(){return!0};h.prototype.zj=function(){return!0};h.prototype.Tm=function(){return!0};h.prototype.Yf=function(){return!0};h.prototype.Am=function(g,b,e){return La(R(g),R(e))<=R(b)};h.prototype.Gm=function(g,
b){return Na(R(g),R(b))};h.prototype.Fm=function(g,b,e){g=Ja(g);b=Ja(b);e=Ja(e);return Na(e,b)?Na(g,b)&&!Na(g,e):!(!Na(g,b)&&Na(g,e))};q.m=new h;m.prototype.uj=function(g){this.b.qf||this.b.Pe||(this.b.Pe=g)};var v=[],r=[];q.$d=new m;p.prototype["int"]=function(g,b){J(b)?(g.O(parseInt(b,10)),isNaN(g.data)&&(g.data=0)):g.O(b)};p.prototype["float"]=function(g,b){J(b)?(g.n(parseFloat(b)),isNaN(g.data)&&(g.data=0)):g.n(b)};p.prototype.random=function(g,b,e){void 0===e?g.n(Math.random()*b):g.n(Math.random()*
(e-b)+b)};p.prototype.sqrt=function(g,b){g.n(Math.sqrt(b))};p.prototype.abs=function(g,b){g.n(Math.abs(b))};p.prototype.round=function(g,b){g.O(Math.round(b))};p.prototype.floor=function(g,b){g.O(Math.floor(b))};p.prototype.ceil=function(g,b){g.O(Math.ceil(b))};p.prototype.sin=function(g,b){g.n(Math.sin(R(b)))};p.prototype.cos=function(g,b){g.n(Math.cos(R(b)))};p.prototype.tan=function(g,b){g.n(Math.tan(R(b)))};p.prototype.asin=function(g,b){g.n(Fa(Math.asin(b)))};p.prototype.acos=function(g,b){g.n(Fa(Math.acos(b)))};
p.prototype.atan=function(g,b){g.n(Fa(Math.atan(b)))};p.prototype.exp=function(g,b){g.n(Math.exp(b))};p.prototype.log10=function(g,b){g.n(Math.log(b)/Math.LN10)};p.prototype.max=function(g){var b=arguments[1];"number"!==typeof b&&(b=0);var e,c,a;e=2;for(c=arguments.length;e<c;e++)a=arguments[e],"number"===typeof a&&b<a&&(b=a);g.n(b)};p.prototype.min=function(g){var b=arguments[1];"number"!==typeof b&&(b=0);var e,c,a;e=2;for(c=arguments.length;e<c;e++)a=arguments[e],"number"===typeof a&&b>a&&(b=a);
g.n(b)};p.prototype.fe=function(g){g.n(this.b.fe)};p.prototype.Sf=function(g){g.n(this.b.Sf)};p.prototype.time=function(g){g.n(this.b.ob.aa)};p.prototype.Rf=function(g){g.O(this.b.Rf)};p.prototype.Jg=function(g){g.O(this.b.Jg)};p.prototype.Rh=function(g){g.O(this.b.Rh)};p.prototype.i=function(g,b,e,c,a){g.n(Fa(Ka(b,e,c,a)))};p.prototype.left=function(g,b,e){g.Wa(J(b)?b.substr(0,e):"")};p.prototype.right=function(g,b,e){g.Wa(J(b)?b.substr(b.length-e):"")};p.prototype.replace=function(g,b,e,c){J(b)&&
J(e)&&J(c)?g.Wa(b.replace(new RegExp(Xa(e),"gi"),c)):g.Wa(J(b)?b:"")};p.prototype.trim=function(g,b){g.Wa(J(b)?b.trim():"")};p.prototype.ln=function(g){var b=M(Math.random()*(arguments.length-1));g.lq(arguments[b+1])};p.prototype.Fh=function(g){g.n(this.b.Fh/1E3)};p.prototype.Cg=function(g){g.n(this.b.Cg)};q.Zc=new p;q.aq=function(){var g,b,e,c,a,d,h=this.b.Ma();g=0;for(e=this.Ya.length;g<e;g++){c=this.Ya[g];if(-1===c.time){if(!c.dm)continue}else if(c.time>this.b.ob.aa)continue;h.ib=c.Xe;h.fb=c.fb;
h.Qa=0;for(b in c.Xa)c.Xa.hasOwnProperty(b)&&(a=this.b.e[parseInt(b,10)].N(),d=c.Xa[b],a.Y=d.Rl,ya(a.c,d.Gd),a=d,P(a.Gd),r.push(a));c.Xe.$p();this.b.Dh(c.ca);c.dk=!0}b=g=0;for(e=this.Ya.length;g<e;g++)c=this.Ya[g],this.Ya[b]=c,c.dk?(Sa(c.Xa),P(c.ca),v.push(c)):b++;xa(this.Ya,b)}})();
(function(){gb=function(h,p){var q=h[1],v=h[3],r=h[4],g=h[5],b=h[6],e=h[7],c=h[8];p.m||(p.m={});p.$d||(p.$d={});p.Zc||(p.Zc={});var a=p.m,d=p.$d,l=p.Zc;v&&(a.Qq=function(a,b){return Sb(this.x,a,b)},a.Rq=function(a,b){return Sb(this.y,a,b)},a.Yq=function(){var a=this.d;this.za();var b=this.Ba;return!(b.right<a.K||b.bottom<a.L||b.left>a.R||b.top>a.Q)},a.Zq=function(){this.za();var a=this.Ba,b=this.b.I;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},a.lr=function(a,b,c){var e=this.N(),
d=e.Db();if(!d.length)return!1;var g=d[0],h=g,l=Oa(g.x,g.y,b,c),m,p,q;m=1;for(p=d.length;m<p;m++)if(g=d[m],q=Oa(g.x,g.y,b,c),0===a&&q<l||1===a&&q>l)l=q,h=g;e.Ff(h);return!0},d.Ir=function(a){this.x!==a&&(this.x=a,this.pa())},d.Jr=function(a){this.y!==a&&(this.y=a,this.pa())},d.Cr=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.pa()},d.Dr=function(a,b){var c=a.No(this);if(c){var e;c.Xh?(e=c.Xh(b,!0),c=c.Xh(b,!1)):(e=c.x,c=c.y);if(this.x!==e||this.y!==c)this.x=e,this.y=c,this.pa()}},
d.er=function(a){0!==a&&(this.x+=Math.cos(this.i)*a,this.y+=Math.sin(this.i)*a,this.pa())},d.dr=function(a,b){0!==b&&(this.x+=Math.cos(R(a))*b,this.y+=Math.sin(R(a))*b,this.pa())},l.Vm=function(a){a.n(this.x)},l.Wm=function(a){a.n(this.y)},l.fe=function(a){a.n(this.b.rk(this))});r&&(a.Pq=function(a,b){return Sb(this.width,a,b)},a.Mq=function(a,b){return Sb(this.height,a,b)},d.Hr=function(a){this.width!==a&&(this.width=a,this.pa())},d.yr=function(a){this.height!==a&&(this.height=a,this.pa())},d.Er=
function(a,b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.pa()},l.Nr=function(a){a.n(this.width)},l.Uq=function(a){a.n(this.height)},l.Iq=function(a){this.za();a.n(this.Ba.left)},l.Kq=function(a){this.za();a.n(this.Ba.top)},l.Jq=function(a){this.za();a.n(this.Ba.right)},l.Hq=function(a){this.za();a.n(this.Ba.bottom)});g&&(a.Am=function(a,b){return La(this.i,R(b))<=R(a)},a.Gm=function(a){return Na(this.i,R(a))},a.Fm=function(a,b){var c=Ja(a),e=Ja(b),d=Ha(this.i);return Na(e,
c)?Na(d,c)&&!Na(d,e):!(!Na(d,c)&&Na(d,e))},d.tr=function(a){a=R(Ga(a));isNaN(a)||this.i===a||(this.i=a,this.pa())},d.pr=function(a){0===a||isNaN(a)||(this.i+=R(a),this.i=Ha(this.i),this.pa())},d.qr=function(a){0===a||isNaN(a)||(this.i-=R(a),this.i=Ha(this.i),this.pa())},d.rr=function(a,b){var c=Ma(this.i,R(b),R(a));isNaN(c)||this.i===c||(this.i=c,this.pa())},d.sr=function(a,b,c){a=Ma(this.i,Math.atan2(c-this.y,b-this.x),R(a));isNaN(a)||this.i===a||(this.i=a,this.pa())},d.Fr=function(a,b){var c=Math.atan2(b-
this.y,a-this.x);isNaN(c)||this.i===c||(this.i=c,this.pa())},l.Gq=function(a){a.n(Ia(this.i))});q||(a.Nq=function(a,b,c){return Sb(this.ga[a],b,c)},a.Wq=function(a){return this.ga[a]},a.mr=function(a,b){var c=this.N(),e=c.Db();if(!e.length)return!1;var d=e[0],g=d,h=d.ga[b],l,m,p;l=1;for(m=e.length;l<m;l++)if(d=e[l],p=d.ga[b],0===a&&p<h||1===a&&p>h)h=p,g=d;c.Ff(g);return!0},a.kr=function(a){var b,c,e,d,g;if(this.b.Ho().li){g=this.N();if(g.Y)for(g.Y=!1,P(g.c),P(g.D),e=this.c,b=0,c=e.length;b<c;b++)d=
e[b],d.uid===a?g.D.push(d):g.c.push(d);else{e=b=0;for(c=g.c.length;b<c;b++)d=g.c[b],g.c[e]=d,d.uid===a?g.D.push(d):e++;xa(g.c,e)}this.Sc();return!!g.c.length}d=this.b.vk(a);if(!d)return!1;g=this.N();if(!g.Y&&-1===g.c.indexOf(d))return!1;if(this.G)for(a=d.type.T,b=0,c=a.length;b<c;b++){if(a[b]===this)return g.Ff(d),this.Sc(),!0}else if(d.type===this)return g.Ff(d),this.Sc(),!0;return!1},a.vj=function(){return!0},a.Mm=function(){return!0},d.Ar=function(a,b){var c=this.ga;ja(c[a])?c[a]=ja(b)?b:parseFloat(b):
J(c[a])&&(c[a]=J(b)?b:b.toString())},d.Fq=function(a,b){var c=this.ga;ja(c[a])?c[a]=ja(b)?c[a]+b:c[a]+parseFloat(b):J(c[a])&&(c[a]=J(b)?c[a]+b:c[a]+b.toString())},d.Kr=function(a,b){var c=this.ga;ja(c[a])&&(c[a]=ja(b)?c[a]-b:c[a]-parseFloat(b))},d.ur=function(a,b){this.ga[a]=b?1:0},d.Lr=function(a){this.ga[a]=1-this.ga[a]},d.Tq=function(){this.b.Wd(this)},d.Im||(d.Im=function(a){var b,c;try{b=JSON.parse(a)}catch(e){return}this.b.Bg(this,b,!0);this.od&&this.od();if(this.A)for(a=0,b=this.A.length;a<
b;++a)c=this.A[a],c.od&&c.od()}),l.Sq=function(a){var b=a.Qd.c.length,c,e,d;c=0;for(e=this.b.Vb.length;c<e;c++)d=this.b.Vb[c],a.Qd.G?0<=d.type.T.indexOf(a.Qd)&&b++:d.type===a.Qd&&b++;a.O(b)},l.or=function(a){a.O(a.Qd.N().Db().length)},l.Mr=function(a){a.O(this.uid)},l.Vq=function(a){a.O(this.df())},l.Bm||(l.Bm=function(a){a.Wa(JSON.stringify(this.b.dj(this,!0)))}));b&&(a.$q=function(){return this.visible},d.Gr=function(a){!a!==!this.visible&&(this.visible=!!a,this.b.J=!0)},a.Oq=function(a,b){return Sb(cb(100*
this.opacity),a,b)},d.Br=function(a){a=a/100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.b.J=!0)},l.Opacity=function(a){a.n(cb(100*this.opacity))});e&&(a.Xq=function(a){return a?this.d===a:!1},a.nr=function(a){var b=this.N(),c=b.Db();if(!c.length)return!1;var e=c[0],d=e,g,h;g=1;for(h=c.length;g<h;g++)if(e=c[g],0===a){if(e.d.index>d.d.index||e.d.index===d.d.index&&e.Zb()>d.Zb())d=e}else if(e.d.index<d.d.index||e.d.index===d.d.index&&e.Zb()<d.Zb())d=e;b.Ff(d);return!0},d.hr=function(){var a=
this.d,b=a.c;b.length&&b[b.length-1]===this||(a.xe(this,!1),a.Me(this,!1),this.b.J=!0)},d.fr=function(){var a=this.d,b=a.c;b.length&&b[0]===this||(a.xe(this,!1),a.Up(this),this.b.J=!0)},d.gr=function(a){a&&a!=this.d&&(this.d.xe(this,!0),this.d=a,a.Me(this,!0),this.b.J=!0)},d.Pr=function(a,b){var c=0===a;if(b){var e=b.Io(this);e&&e.uid!==this.uid&&(this.d.index!==e.d.index&&(this.d.xe(this,!0),this.d=e.d,e.d.Me(this,!0)),this.d.Ep(this,e,c),this.b.J=!0)}},l.cr=function(a){a.O(this.d.pl)},l.br=function(a){a.Wa(this.d.name)},
l.Or=function(a){a.O(this.Zb())});c&&(d.wr=function(a,b){if(this.b.k){var c=this.type.Wh(b);if(!(0>c)){var e=1===a;this.Qc[c]!==e&&(this.Qc[c]=e,this.Mb(),this.b.J=!0)}}},d.xr=function(a,b,c){if(this.b.k){var e=this.type.Wh(a);0>e||(a=this.type.r[e],e=this.W[e],b=Math.floor(b),0>b||b>=e.length||(1===this.b.k.Qo(a.fa,b)&&(c/=100),e[b]!==c&&(e[b]=c,a.Za&&(this.b.J=!0))))}})};zb=function(){this.yh=this.sh=!0;this.type.Kj=!0;this.b.J=!0;var h,p,q=this.th;h=0;for(p=q.length;h<p;++h)q[h](this);this.d.eb&&
this.za()};Ab=function(h){h&&this.th.push(h)};Cb=function(){if(this.sh){var h=this.Ba,p=this.Zf;h.set(this.x,this.y,this.x+this.width,this.y+this.height);h.offset(-this.Sa*this.width,-this.Ta*this.height);this.i?(h.offset(-this.x,-this.y),p.$l(h,this.i),p.offset(this.x,this.y),p.Uj(h)):p.Wg(h);h.normalize();this.sh=!1;this.yq()}};var h=new O(0,0,0,0);Db=function(){if(this.d.eb){var m=this.d.ya,p=this.Ba;h.set(m.Ja(p.left),m.Ka(p.top),m.Ja(p.right),m.Ka(p.bottom));this.Na.We(h)||(this.Na.right<this.Na.left?
m.update(this,null,h):m.update(this,this.Na,h),this.Na.Se(h),this.d.Kb=!0)}};Eb=function(){if(this.yh&&this.Qe){this.za();var m=this.type.$j,p=this.Ba;h.set(m.Ja(p.left),m.Ka(p.top),m.Ja(p.right),m.Ka(p.bottom));this.Wc.We(h)||(this.Wc.right<this.Wc.left?m.update(this,null,h):m.update(this,this.Wc,h),this.Wc.Se(h),this.yh=!1)}};Bb=function(h,p){return this.Ba.gb(h,p)&&this.Zf.gb(h,p)?this.Ub&&!this.Ub.vp()?(this.Ub.jn(this.width,this.height,this.i),this.Ub.gb(h-this.x,p-this.y)):!0:!1};vb=function(){this.type.jh();
return this.Ed};Fb=function(){this.d.rj();return this.Ob};Gb=function(){P(this.H);var h,p,q,v=!0;h=0;for(p=this.Qc.length;h<p;h++)this.Qc[h]&&(q=this.type.r[h],this.H.push(q),q.Ib||(v=!1));this.xm=!!this.H.length;this.Gc=v};wb=function(){return"Inst"+this.Ll};jb=function(h){if(h&&h.nb&&h.type!=this){var p,q,v;p=0;for(q=h.siblings.length;p<q;p++)if(v=h.siblings[p],v.type==this)return v}h=this.N().Db();return h.length?h[0]:null};kb=function(h){var p=this.N().Db();return p.length?p[h.df()%p.length]:
null};ib=function(){if(this.Be&&!this.G){var h,p;h=0;for(p=this.c.length;h<p;h++)this.c[h].Ed=h;var q=h,v=this.b.Vb;h=0;for(p=v.length;h<p;++h)v[h].type===this&&(v[h].Ed=q++);this.Be=!1}};tb=function(h){if(h<this.c.length)return this.c[h];h-=this.c.length;var p=this.b.Vb,q,v;q=0;for(v=p.length;q<v;++q)if(p[q].type===this){if(0===h)return p[q];--h}return null};lb=function(){return this.Ic[this.Wb]};mb=function(){this.Wb++;this.Wb===this.Ic.length?this.Ic.push(new hb(this)):(this.Ic[this.Wb].Y=!0,P(this.Ic[this.Wb].D))};
nb=function(){this.Wb++;this.Wb===this.Ic.length&&this.Ic.push(new hb(this));var h=this.Ic[this.Wb],p=this.Ic[this.Wb-1];p.Y?(h.Y=!0,P(h.D)):(h.Y=!1,ya(h.c,p.c),ya(h.D,p.D))};ob=function(){this.Wb--};pb=function(h){var p,q,v,r,g,b=0;if(!this.G)for(p=0,q=this.T.length;p<q;p++)for(g=this.T[p],v=0,r=g.U.length;v<r;v++){if(h===g.U[v].name)return this.S.lastBehIndex=b,g.U[v];b++}p=0;for(q=this.U.length;p<q;p++){if(h===this.U[p].name)return this.S.lastBehIndex=b,this.U[p];b++}return null};qb=function(h){return this.og(h)?
this.S.lastBehIndex:-1};rb=function(h){var p,q;p=0;for(q=this.r.length;p<q;p++)if(this.r[p].name===h)return p;return-1};sb=function(){if(this.nb&&!this.G){var h,p,q,v,r,g,b;this.jh();g=this.N();var e=g.Y,c=(h=this.b.Ma())&&h.ib&&h.ib.Hb;h=0;for(p=this.Ra.length;h<p;h++)if(r=this.Ra[h],r!==this&&(r.jh(),b=r.N(),b.Y=e,!e)){P(b.c);q=0;for(v=g.c.length;q<v;++q)b.c[q]=r.Yh(g.c[q].Ed);if(c)for(P(b.D),q=0,v=g.D.length;q<v;++q)b.D[q]=r.Yh(g.D[q].Ed)}}};ub=function(){return"Type"+this.F};Sb=function(h,p,q){if("undefined"===
typeof h||"undefined"===typeof q)return!1;switch(p){case 0:return h===q;case 1:return h!==q;case 2:return h<q;case 3:return h<=q;case 4:return h>q;case 5:return h>=q;default:return!1}}})();var $b={};function ac(h){this.b=h}
(function(){function h(){if(0===this.Ih.length){var b=document.createElement("canvas");b.width=this.width;b.height=this.height;var c=b.getContext("2d");this.Ae?c.drawImage(this.qa,this.te,this.ue,this.width,this.height,0,0,this.width,this.height):c.drawImage(this.qa,0,0,this.width,this.height);this.Ih=b.toDataURL("image/png")}return this.Ih}function m(){}var p=ac.prototype;p.Je=function(b){this.xa=b;this.b=b.b};var q=p.Je.prototype;q.Ua=function(){if(!this.G){var b,c,a,d,g,f,m,n,p;this.zb=[];this.gf=
!1;b=0;for(c=this.Pa.length;b<c;b++){g=this.Pa[b];m={};m.name=g[0];m.speed=g[1];m.loop=g[2];m.Yi=g[3];m.Zi=g[4];m.Dl=g[5];m.F=g[6];m.frames=[];a=0;for(d=g[7].length;a<d;a++)f=g[7][a],n={},n.jm=f[0],n.km=f[1],n.te=f[2],n.ue=f[3],n.width=f[4],n.height=f[5],n.duration=f[6],n.Sa=f[7],n.Ta=f[8],n.gi=f[9],n.Og=f[10],n.El=f[11],n.Ae=0!==n.width,n.Ih="",n.Vr=h,p={left:0,top:0,right:1,bottom:1},n.fj=p,n.Lc=null,(p=this.b.Do(f[0]))?n.qa=p:(n.qa=new Image,n.qa.pn=f[0],n.qa.nn=f[1],n.qa.hn=null,this.b.Cq(n.qa,
f[0])),m.frames.push(n),this.zb.push(n);this.Pa[b]=m}}};q.wm=function(){var b,c,a;b=0;for(c=this.c.length;b<c;b++)a=this.c[b],a.dg=a.ra.Lc};q.tl=function(){if(!this.G){var b,c,a;b=0;for(c=this.zb.length;b<c;++b)a=this.zb[b],a.qa.hn=null,a.Lc=null;this.gf=!1;this.wm()}};q.xl=function(){if(!this.G&&this.c.length){var b,c,a;b=0;for(c=this.zb.length;b<c;++b)a=this.zb[b],a.Lc=this.b.k.Rk(a.qa,this.b.ea,a.El);this.wm()}};q.zp=function(){if(!this.G&&!this.gf&&this.b.k){var b,c,a;b=0;for(c=this.zb.length;b<
c;++b)a=this.zb[b],a.Lc=this.b.k.Rk(a.qa,this.b.ea,a.El);this.gf=!0}};q.tm=function(){if(!this.G&&!this.c.length&&this.gf){var b,c,a;b=0;for(c=this.zb.length;b<c;++b)a=this.zb[b],this.b.k.deleteTexture(a.Lc),a.Lc=null;this.gf=!1}};var v=[];q.Il=function(b){var c,a,d;P(v);c=0;for(a=this.zb.length;c<a;++c)d=this.zb[c].qa,-1===v.indexOf(d)&&(b.drawImage(d,0,0),v.push(d))};p.Pc=function(b){this.type=b;this.b=b.b;b=this.type.Pa[0].frames[0].Og;this.cc?this.Ub.Lf(b):this.Ub=new Ya(b)};var r=p.Pc.prototype;
r.Ua=function(){this.visible=0===this.Fc[0];this.Qe=0!==this.Fc[3];this.P=this.pk(this.Fc[1])||this.type.Pa[0];this.j=this.Fc[2];0>this.j&&(this.j=0);this.j>=this.P.frames.length&&(this.j=this.P.frames.length-1);var b=this.P.frames[this.j];this.Ub.Lf(b.Og);this.Sa=b.Sa;this.Ta=b.Ta;this.be=this.P.speed;this.Xc=this.P.Zi;1===this.type.Pa.length&&1===this.type.Pa[0].frames.length||0===this.be||this.b.sq(this);this.cc?this.Pb.reset():this.Pb=new Wa;this.wc=this.Pb.aa;this.qd=!0;this.oc=0;this.pd=!0;
this.Ch=this.Ij="";this.kn=0;this.Bh=-1;this.type.zp();var c,a,d,g,f,h,n,b=0;for(c=this.type.Pa.length;b<c;b++)for(g=this.type.Pa[b],a=0,d=g.frames.length;a<d;a++)f=g.frames[a],0===f.width&&(f.width=f.qa.width,f.height=f.qa.height),f.Ae&&(n=f.qa,h=f.fj,h.left=f.te/n.width,h.top=f.ue/n.height,h.right=(f.te+f.width)/n.width,h.bottom=(f.ue+f.height)/n.height,0===f.te&&0===f.ue&&f.width===n.width&&f.height===n.height&&(f.Ae=!1));this.ra=this.P.frames[this.j];this.dg=this.ra.Lc};r.hc=function(){var b=
{a:this.P.F,f:this.j,cas:this.be,fs:this.wc,ar:this.oc,at:this.Pb.aa,rt:this.Xc};this.qd||(b.ap=this.qd);this.pd||(b.af=this.pd);return b};r.ed=function(b){var c=this.Fo(b.a);c&&(this.P=c);this.j=b.f;0>this.j&&(this.j=0);this.j>=this.P.frames.length&&(this.j=this.P.frames.length-1);this.be=b.cas;this.wc=b.fs;this.oc=b.ar;this.Pb.reset();this.Pb.aa=b.at;this.qd=b.hasOwnProperty("ap")?b.ap:!0;this.pd=b.hasOwnProperty("af")?b.af:!0;b.hasOwnProperty("rt")?this.Xc=b.rt:this.Xc=this.P.Zi;this.ra=this.P.frames[this.j];
this.dg=this.ra.Lc;this.Ub.Lf(this.ra.Og);this.Sa=this.ra.Sa;this.Ta=this.ra.Ta};r.rh=function(b){this.j=b?0:this.P.frames.length-1;this.qd=!1;this.Ij=this.P.name;this.b.trigger(ac.prototype.m.Km,this);this.b.trigger(ac.prototype.m.Jm,this);this.oc=0};r.Oj=function(){return this.Pb.aa};r.De=function(){this.Pb.add(this.b.rk(this));this.Ch.length&&this.un();0<=this.Bh&&this.vn();var b=this.Pb.aa,c=this.P,a=c.frames[this.j],d=a.duration/this.be;this.qd&&b>=this.wc+d&&(this.pd?this.j++:this.j--,this.wc+=
d,this.j>=c.frames.length&&(c.Dl?(this.pd=!1,this.j=c.frames.length-2):c.loop?this.j=this.Xc:(this.oc++,this.oc>=c.Yi?this.rh(!1):this.j=this.Xc)),0>this.j&&(c.Dl?(this.j=1,this.pd=!0,c.loop||(this.oc++,this.oc>=c.Yi&&this.rh(!0))):c.loop?this.j=this.Xc:(this.oc++,this.oc>=c.Yi?this.rh(!0):this.j=this.Xc)),0>this.j?this.j=0:this.j>=c.frames.length&&(this.j=c.frames.length-1),b>this.wc+c.frames[this.j].duration/this.be&&(this.wc=b),b=c.frames[this.j],this.Zd(a,b),this.b.J=!0)};r.pk=function(b){var c,
a,d;c=0;for(a=this.type.Pa.length;c<a;c++)if(d=this.type.Pa[c],db(d.name,b))return d;return null};r.Fo=function(b){var c,a,d;c=0;for(a=this.type.Pa.length;c<a;c++)if(d=this.type.Pa[c],d.F===b)return d;return null};r.un=function(){var b=this.P.frames[this.j],c=this.pk(this.Ch);this.Ch="";!c||db(c.name,this.P.name)&&this.qd||(this.P=c,this.be=c.speed,this.Xc=c.Zi,0>this.j&&(this.j=0),this.j>=this.P.frames.length&&(this.j=this.P.frames.length-1),1===this.kn&&(this.j=0),this.qd=!0,this.wc=this.Pb.aa,
this.pd=!0,this.Zd(b,this.P.frames[this.j]),this.b.J=!0)};r.vn=function(){var b=this.P.frames[this.j],c=this.j;this.j=M(this.Bh);0>this.j&&(this.j=0);this.j>=this.P.frames.length&&(this.j=this.P.frames.length-1);c!==this.j&&(this.Zd(b,this.P.frames[this.j]),this.wc=this.Pb.aa,this.b.J=!0);this.Bh=-1};r.Zd=function(b,c){var a=b.width,d=b.height,g=c.width,f=c.height;a!=g&&(this.width*=g/a);d!=f&&(this.height*=f/d);this.Sa=c.Sa;this.Ta=c.Ta;this.Ub.Lf(c.Og);this.pa();this.ra=c;this.dg=c.Lc;a=0;for(d=
this.A.length;a<d;a++)g=this.A[a],g.Lp&&g.Lp(b,c);this.b.trigger(ac.prototype.m.Zd,this)};r.wd=function(b){b.globalAlpha=this.opacity;var c=this.ra,a=c.Ae,d=c.qa,g=this.x,f=this.y,h=this.width,n=this.height;if(0===this.i&&0<=h&&0<=n)g-=this.Sa*h,f-=this.Ta*n,this.b.Rd&&(g=Math.round(g),f=Math.round(f)),a?b.drawImage(d,c.te,c.ue,c.width,c.height,g,f,h,n):b.drawImage(d,g,f,h,n);else{this.b.Rd&&(g=Math.round(g),f=Math.round(f));b.save();var m=0<h?1:-1,k=0<n?1:-1;b.translate(g,f);1===m&&1===k||b.scale(m,
k);b.rotate(this.i*m*k);g=0-this.Sa*oa(h);f=0-this.Ta*oa(n);a?b.drawImage(d,c.te,c.ue,c.width,c.height,g,f,oa(h),oa(n)):b.drawImage(d,g,f,oa(h),oa(n));b.restore()}};r.ee=function(b){this.Cb(b)};r.Cb=function(b){b.tb(this.dg);b.Jf(this.opacity);var c=this.ra,a=this.Zf;if(this.b.Rd){var d=Math.round(this.x)-this.x,g=Math.round(this.y)-this.y;c.Ae?b.Sd(a.jc+d,a.kc+g,a.mc+d,a.nc+g,a.Sb+d,a.Tb+g,a.Qb+d,a.Rb+g,c.fj):b.If(a.jc+d,a.kc+g,a.mc+d,a.nc+g,a.Sb+d,a.Tb+g,a.Qb+d,a.Rb+g)}else c.Ae?b.Sd(a.jc,a.kc,
a.mc,a.nc,a.Sb,a.Tb,a.Qb,a.Rb,c.fj):b.If(a.jc,a.kc,a.mc,a.nc,a.Sb,a.Tb,a.Qb,a.Rb)};r.Ko=function(b){var c=this.ra,a,d;a=0;for(d=c.gi.length;a<d;a++)if(db(b,c.gi[a][0]))return a;return-1};r.Xh=function(b,c){var a=this.ra,d=a.gi,g;J(b)?g=this.Ko(b):g=b-1;g=M(g);if(0>g||g>=d.length)return c?this.x:this.y;var f=(d[g][1]-a.Sa)*this.width,d=d[g][2],d=(d-a.Ta)*this.height,a=Math.cos(this.i);g=Math.sin(this.i);var h=f*a-d*g,d=d*a+f*g,f=h+this.x,d=d+this.y;return c?f:d};var g=new ba,b=!1;new O(0,0,0,0);q.finish=
function(e){if(b){if(e){var c=this.b.Ma().ib.Hb;e=null.N();var a=g.nd(),d,h;if(e.Y){e.Y=!1;P(e.c);d=0;for(h=a.length;d<h;++d)e.c[d]=a[d];if(c)for(P(e.D),d=0,h=null.c.length;d<h;++d)a=null.c[d],g.contains(a)||e.D.push(a)}else if(c)for(c=e.c.length,d=0,h=a.length;d<h;++d)e.c[c+d]=a[d],Ba(e.D,a[d]);else ya(e.c,a);null.Sc()}g.clear();b=!1}};m.prototype.Jm=function(b){return db(this.Ij,b)};m.prototype.Km=function(){return!0};m.prototype.Zd=function(){return!0};p.m=new m;p.$d=new function(){};p.Zc=new function(){}})();
function X(h){this.b=h}
(function(){function h(b){e=b.x;c=b.y;a=b.z}function m(a,b,c,e){var f;f=d.length?d.pop():new p;f.init(a,b,c,e);return f}function p(){this.Of=this.id=this.y=this.x=this.$g=this.Zg=this.yi=this.time=this.hj=0;this.Tf=this.hh=!1}function q(){}function v(){}var r=X.prototype;r.Je=function(a){this.xa=a;this.b=a.b};r.Je.prototype.Ua=function(){};r.Pc=function(a){this.type=a;this.b=a.b;this.touches=[];this.Gi=!1};var g=r.Pc.prototype,b={left:0,top:0};g.$e=function(a){var b,c;b=0;for(c=this.touches.length;b<
c;b++)if(this.touches[b].id===a)return b;return-1};var e=0,c=0,a=0,d=[];p.prototype.init=function(a,b,c,d){var e=S();this.hj=this.yi=this.time=e;this.Zg=a;this.$g=b;this.x=a;this.y=b;this.pressure=this.height=this.width=0;this.id=c;this.Of=d;this.Tf=this.hh=!1};p.prototype.update=function(a,b,c,d,e,f){this.yi=this.time;this.time=a;this.x=b;this.y=c;this.width=d;this.height=e;this.pressure=f;!this.Tf&&15<=Oa(this.Zg,this.$g,this.x,this.y)&&(this.Tf=!0)};p.prototype.Cp=function(a,b){!this.hh&&500<=
S()-this.hj&&!this.Tf&&15>Oa(this.Zg,this.$g,this.x,this.y)&&(this.hh=!0,a.lc=this.Of,a.Ee=this.id,a.ie=b,a.b.trigger(X.prototype.m.Pm,a),a.rc=this.x,a.sc=this.y,a.b.trigger(X.prototype.m.Qm,a),a.ie=0)};var l=-1E3,f=-1E3,w=-1E4;p.prototype.jl=function(a,b){if(!this.hh){var c=S();333>=c-this.hj&&!this.Tf&&15>Oa(this.Zg,this.$g,this.x,this.y)&&(a.lc=this.Of,a.Ee=this.id,a.ie=b,666>=c-w&&25>Oa(l,f,this.x,this.y)?(a.b.trigger(X.prototype.m.Nm,a),a.rc=this.x,a.sc=this.y,a.b.trigger(X.prototype.m.Om,a),
f=l=-1E3,w=-1E4):(a.b.trigger(X.prototype.m.Um,a),a.rc=this.x,a.sc=this.y,a.b.trigger(X.prototype.m.ph,a),l=this.x,f=this.y,w=c),a.ie=0)}};g.Ua=function(){this.tp=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.ie=this.Ee=this.lc=this.sc=this.rc=this.Fj=this.Ej=this.Dj=this.Zm=this.Ym=this.Xm=this.Ng=this.Mg=this.Lg=0;this.Aq=0!==this.Fc[0];var a=0<this.b.La?document:this.b.canvas,b=document;this.b.bd?b=a=window.Canvas:this.b.lb&&(b=a=window);var c=this;"undefined"!==typeof PointerEvent?
(a.addEventListener("pointerdown",function(a){c.wl(a)},!1),a.addEventListener("pointermove",function(a){c.ul(a)},!1),b.addEventListener("pointerup",function(a){c.Kg(a,!1)},!1),b.addEventListener("pointercancel",function(a){c.Kg(a,!0)},!1),this.b.canvas&&(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),this.b.canvas.addEventListener("gesturehold",function(a){a.preventDefault()},!1),document.addEventListener("gesturehold",
function(a){a.preventDefault()},!1))):window.navigator.msPointerEnabled?(a.addEventListener("MSPointerDown",function(a){c.wl(a)},!1),a.addEventListener("MSPointerMove",function(a){c.ul(a)},!1),b.addEventListener("MSPointerUp",function(a){c.Kg(a,!1)},!1),b.addEventListener("MSPointerCancel",function(a){c.Kg(a,!0)},!1),this.b.canvas&&(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1))):(a.addEventListener("touchstart",
function(a){c.zl(a)},!1),a.addEventListener("touchmove",function(a){c.yl(a)},!1),b.addEventListener("touchend",function(a){c.Li(a,!1)},!1),b.addEventListener("touchcancel",function(a){c.Li(a,!0)},!1));if(this.tp){var d=function(a){a=a.reading;c.Dj=a.accelerationX;c.Ej=a.accelerationY;c.Fj=a.accelerationZ},e=function(a){a=a.reading;c.Lg=a.yawDegrees;c.Mg=a.pitchDegrees;c.Ng=a.rollDegrees},f=Windows.Devices.Sensors.Accelerometer.getDefault();f&&(f.reportInterval=Math.max(f.minimumReportInterval,16),
f.addEventListener("readingchanged",d));var g=Windows.Devices.Sensors.Inclinometer.getDefault();g&&(g.reportInterval=Math.max(g.minimumReportInterval,16),g.addEventListener("readingchanged",e));document.addEventListener("visibilitychange",function(){document.hidden||document.msHidden?(f&&f.removeEventListener("readingchanged",d),g&&g.removeEventListener("readingchanged",e)):(f&&f.addEventListener("readingchanged",d),g&&g.addEventListener("readingchanged",e))},!1)}else window.addEventListener("deviceorientation",
function(a){c.Lg=a.alpha||0;c.Mg=a.beta||0;c.Ng=a.gamma||0},!1),window.addEventListener("devicemotion",function(a){a.accelerationIncludingGravity&&(c.Xm=a.accelerationIncludingGravity.x||0,c.Ym=a.accelerationIncludingGravity.y||0,c.Zm=a.accelerationIncludingGravity.z||0);a.acceleration&&(c.Dj=a.acceleration.x||0,c.Ej=a.acceleration.y||0,c.Fj=a.acceleration.z||0)},!1);this.Aq&&!this.b.va&&(jQuery(document).mousemove(function(a){c.Jp(a)}),jQuery(document).mousedown(function(a){c.Ip(a)}),jQuery(document).mouseup(function(a){c.Kp(a)}));
!this.b.wg&&this.b.mb&&navigator.accelerometer&&navigator.accelerometer.watchAcceleration&&navigator.accelerometer.watchAcceleration(h,null,{frequency:40});this.b.rq(this)};g.ul=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&a.preventDefault();var c=this.$e(a.pointerId),d=S();if(0<=c){var e=this.b.va?b:jQuery(this.b.canvas).offset(),c=this.touches[c];2>d-c.time||c.update(d,a.pageX-e.left,a.pageY-e.top,a.width||0,a.height||0,a.pressure||0)}}};g.wl=
function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&eb(a)&&a.preventDefault();var c=this.b.va?b:jQuery(this.b.canvas).offset(),d=a.pageX-c.left,c=a.pageY-c.top;S();this.lc=this.touches.length;this.Ee=a.pointerId;this.touches.push(m(d,c,a.pointerId,this.lc));this.b.cd=!0;this.b.trigger(X.prototype.m.yj,this);this.b.trigger(X.prototype.m.Cj,this);this.rc=d;this.sc=c;this.b.trigger(X.prototype.m.Bj,this);this.b.cd=!1}};g.Kg=function(a,b){if(a.pointerType!==
a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&eb(a)&&a.preventDefault();var c=this.$e(a.pointerId);this.lc=0<=c?this.touches[c].Of:-1;this.Ee=0<=c?this.touches[c].id:-1;this.b.cd=!0;this.b.trigger(X.prototype.m.xj,this);this.b.trigger(X.prototype.m.Aj,this);0<=c&&(b||this.touches[c].jl(this,c),100>d.length&&d.push(this.touches[c]),this.touches.splice(c,1));this.b.cd=!1}};g.yl=function(a){a.preventDefault&&a.preventDefault();var c=S(),d,e,f,g;d=0;for(e=a.changedTouches.length;d<
e;d++)if(f=a.changedTouches[d],g=this.$e(f.identifier),0<=g){var h=this.b.va?b:jQuery(this.b.canvas).offset();g=this.touches[g];2>c-g.time||g.update(c,f.pageX-h.left,f.pageY-h.top,2*(f.gs||f.qs||f.$r||f.cs||0),2*(f.hs||f.rs||f.as||f.ds||0),f.Ur||f.ps||f.Zr||f.bs||0)}};g.zl=function(a){a.preventDefault&&eb(a)&&a.preventDefault();var c=this.b.va?b:jQuery(this.b.canvas).offset();S();this.b.cd=!0;var d,e,f,g;d=0;for(e=a.changedTouches.length;d<e;d++)if(f=a.changedTouches[d],g=this.$e(f.identifier),-1===
g){g=f.pageX-c.left;var h=f.pageY-c.top;this.lc=this.touches.length;this.Ee=f.identifier;this.touches.push(m(g,h,f.identifier,this.lc));this.b.trigger(X.prototype.m.yj,this);this.b.trigger(X.prototype.m.Cj,this);this.rc=g;this.sc=h;this.b.trigger(X.prototype.m.Bj,this)}this.b.cd=!1};g.Li=function(a,b){a.preventDefault&&eb(a)&&a.preventDefault();this.b.cd=!0;var c,e,f;c=0;for(e=a.changedTouches.length;c<e;c++)f=a.changedTouches[c],f=this.$e(f.identifier),0<=f&&(this.lc=this.touches[f].Of,this.Ee=this.touches[f].id,
this.b.trigger(X.prototype.m.xj,this),this.b.trigger(X.prototype.m.Aj,this),b||this.touches[f].jl(this,f),100>d.length&&d.push(this.touches[f]),this.touches.splice(f,1));this.b.cd=!1};g.Oj=function(){return this.b.mb&&0===this.Lg&&0!==a?90*a:this.Lg};g.Sr=function(){return this.b.mb&&0===this.Mg&&0!==c?90*c:this.Mg};g.Tr=function(){return this.b.mb&&0===this.Ng&&0!==e?90*e:this.Ng};g.Ip=function(a){this.zl({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.Gi=!0};g.Jp=function(a){this.Gi&&
this.yl({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]})};g.Kp=function(a){a.preventDefault&&this.b.wk&&!this.b.je&&a.preventDefault();this.b.wk=!0;this.Li({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.Gi=!1};g.ij=function(){var a,b,c,d=S();a=0;for(b=this.touches.length;a<b;++a)c=this.touches[a],c.time<=d-50&&(c.yi=d),c.Cp(this,a)};q.prototype.Cj=function(){return!0};q.prototype.Aj=function(){return!0};q.prototype.Bj=function(a){return a?this.b.dh(a,this.rc,this.sc):
!1};q.prototype.yj=function(a){a=Math.floor(a);return a===this.lc};q.prototype.xj=function(a){a=Math.floor(a);return a===this.lc};q.prototype.Pm=function(){return!0};q.prototype.Um=function(){return!0};q.prototype.Nm=function(){return!0};q.prototype.Qm=function(a){return a?this.b.dh(a,this.rc,this.sc):!1};q.prototype.ph=function(a){return a?this.b.dh(a,this.rc,this.sc):!1};q.prototype.Om=function(a){return a?this.b.dh(a,this.rc,this.sc):!1};r.m=new q;v.prototype.Vm=function(a,b){var c=this.ie;if(0>
c||c>=this.touches.length)a.n(0);else{var d,e,f,g,h;ga(b)?(d=this.b.bf(0),e=d.scale,f=d.Nc,g=d.Dc,h=d.i,d.scale=1,d.Nc=1,d.Dc=1,d.i=0,a.n(d.Ha(this.touches[c].x,this.touches[c].y,!0)),d.scale=e,d.Nc=f,d.Dc=g,d.i=h):(d=ja(b)?this.b.bf(b):this.b.Zh(b))?a.n(d.Ha(this.touches[c].x,this.touches[c].y,!0)):a.n(0)}};v.prototype.Wm=function(a,b){var c=this.ie;if(0>c||c>=this.touches.length)a.n(0);else{var d,e,f,g,h;ga(b)?(d=this.b.bf(0),e=d.scale,f=d.Nc,g=d.Ec,h=d.i,d.scale=1,d.Nc=1,d.Ec=1,d.i=0,a.n(d.Ha(this.touches[c].x,
this.touches[c].y,!1)),d.scale=e,d.Nc=f,d.Ec=g,d.i=h):(d=ja(b)?this.b.bf(b):this.b.Zh(b))?a.n(d.Ha(this.touches[c].x,this.touches[c].y,!1)):a.n(0)}};r.Zc=new v})();
